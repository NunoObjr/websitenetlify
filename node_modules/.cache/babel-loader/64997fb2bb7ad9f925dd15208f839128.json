{"ast":null,"code":"import _regeneratorRuntime from\"/Users/fasm/TheBruxoTales/theGeekAwaken/The-Geek-Awaken/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/fasm/TheBruxoTales/theGeekAwaken/The-Geek-Awaken/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/fasm/TheBruxoTales/theGeekAwaken/The-Geek-Awaken/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import MenuBar from\"../components/menuBar\";import firebase from\"../firebase\";import\"./styles.css\";export default function PostFrontView(props){var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),postagem=_React$useState2[0],setPostagem=_React$useState2[1];function carregarDados(){return _carregarDados.apply(this,arguments);}function _carregarDados(){_carregarDados=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var aux,vetAux,cont,str,_cont,i,fotos,textos,titulos,_vetAux,y;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(props.location.state!==undefined)){_context.next=8;break;}aux=props.location.state.post;vetAux=[];cont=1;Object.keys(aux.titulos).forEach(function(titulo){vetAux.push({titulos:aux.titulos[titulo],textos:aux.textos['texto'+cont],images:aux.imagens['foto'+cont]});cont++;});setPostagem(vetAux);_context.next=20;break;case 8:str='';_cont=0;for(i=0;i<props.location.pathname.length;i++){if(props.location.pathname[i]==='/'){_cont=_cont+1;}if(_cont===2){str=\"\".concat(str+props.location.pathname[i]);}}fotos=[];textos=[];titulos=[];_context.next=16;return firebase.database().ref(\"posts/postsFront/\".concat(str)).once('value').then(function(snapshot){Object.keys(snapshot.val().fotos).forEach(function(foto){fotos.push(snapshot.val().fotos[foto]);});Object.keys(snapshot.val().titulos).forEach(function(foto){titulos.push(snapshot.val().titulos[foto]);});Object.keys(snapshot.val().textos).forEach(function(foto){textos.push(snapshot.val().textos[foto]);});});case 16:_vetAux=[];for(y=0;y<fotos.length;y++){_vetAux.push({titulos:titulos[y],textos:textos[y],images:fotos[y]});}console.log(_vetAux);setPostagem(_vetAux);case 20:case\"end\":return _context.stop();}}},_callee);}));return _carregarDados.apply(this,arguments);}React.useEffect(function(){carregarDados();},[]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(MenuBar,null),/*#__PURE__*/React.createElement(\"div\",{className:\"containerPost\",style:{backgroundColor:'white',margin:'6% 5% 1% 5%',borderRadius:'15px'}},postagem.map(function(post,key){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"containerTitle\"},/*#__PURE__*/React.createElement(\"h1\",null,post.titulos)),/*#__PURE__*/React.createElement(\"div\",{className:\"containerImage\"},/*#__PURE__*/React.createElement(\"img\",{alt:\"\",src:post.images})),/*#__PURE__*/React.createElement(\"div\",{className:\"containerTexto\"},/*#__PURE__*/React.createElement(\"p\",null,post.textos)));})));}","map":{"version":3,"sources":["/Users/fasm/TheBruxoTales/theGeekAwaken/The-Geek-Awaken/frontend/src/pages/postFrontView.js"],"names":["React","MenuBar","firebase","PostFrontView","props","useState","postagem","setPostagem","carregarDados","location","state","undefined","aux","post","vetAux","cont","Object","keys","titulos","forEach","titulo","push","textos","images","imagens","str","i","pathname","length","fotos","database","ref","once","then","snapshot","val","foto","y","console","log","useEffect","backgroundColor","margin","borderRadius","map","key"],"mappings":"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","sourcesContent":["import React from 'react'\nimport MenuBar from \"../components/menuBar\"\nimport firebase from \"../firebase\"\nimport \"./styles.css\"\n\nexport default function PostFrontView(props){\n\n    const [postagem,setPostagem] = React.useState([])\n\n    async function carregarDados(){\n        if(props.location.state !== undefined){\n            let aux = props.location.state.post\n            let vetAux = []\n            let cont = 1\n            Object.keys(aux.titulos).forEach(function(titulo){\n                vetAux.push({titulos:aux.titulos[titulo],textos:aux.textos['texto'+cont],images:aux.imagens['foto'+cont]})\n                cont++\n                \n            })\n            setPostagem(vetAux)\n        }else{\n            let str = ''\n            let cont = 0\n            for(let i =0;i<props.location.pathname.length;i++){\n                \n                if(props.location.pathname[i] === '/'){\n                    cont = cont+1\n                }\n                if(cont ===2){\n                    str = `${str+props.location.pathname[i]}`\n                }\n            }\n            let fotos = [];\n            let textos = [];\n            let titulos = [];\n            await firebase.database().ref(`posts/postsFront/${str}`).once('value').then(function(snapshot){\n                Object.keys(snapshot.val().fotos).forEach(function(foto){\n                    fotos.push(snapshot.val().fotos[foto])\n                })\n                Object.keys(snapshot.val().titulos).forEach(function(foto){\n                    titulos.push(snapshot.val().titulos[foto])\n                })\n                Object.keys(snapshot.val().textos).forEach(function(foto){\n                    textos.push(snapshot.val().textos[foto])\n                })\n\n            })\n            let vetAux = []\n            for(let y = 0; y<fotos.length;y++){\n                vetAux.push({titulos:titulos[y],textos:textos[y],images:fotos[y]})\n            }\n            console.log(vetAux)\n            setPostagem(vetAux)\n        }\n    }\n\n    React.useEffect(()=>{\n        carregarDados();\n    },[])\n    \n\n    return(\n        <div>\n            <MenuBar/>\n            <div className=\"containerPost\" style={{backgroundColor:'white', margin:'6% 5% 1% 5%', borderRadius:'15px'}} >\n            {postagem.map((post,key)=>(\n                    <>\n                        <div className=\"containerTitle\"><h1>{post.titulos}</h1></div>\n                        <div className=\"containerImage\"><img alt=\"\" src={post.images}/></div>\n                        <div className=\"containerTexto\"><p>{post.textos}</p></div>\n                    </>\n                ))}\n            </div>\n        </div>\n    )\n\n\n    \n}"]},"metadata":{},"sourceType":"module"}