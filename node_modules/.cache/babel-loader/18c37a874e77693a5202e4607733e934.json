{"ast":null,"code":"import _regeneratorRuntime from\"/Users/fasm/TheBruxoTales/theGeekAwaken/The-Geek-Awaken/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/fasm/TheBruxoTales/theGeekAwaken/The-Geek-Awaken/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/fasm/TheBruxoTales/theGeekAwaken/The-Geek-Awaken/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import MenuBar from\"../components/menuBar\";import firebase from\"../firebase\";import\"./styles.css\";export default function PostView(props){var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),postagem=_React$useState2[0],setPostagem=_React$useState2[1];function carregarDados(){return _carregarDados.apply(this,arguments);}function _carregarDados(){_carregarDados=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var aux,str,cont,i,fotos,textos,titulos,vetAux,y,_vetAux,_cont;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:aux=props.location.state;if(!(aux===null||aux===undefined)){_context.next=15;break;}str='';cont=0;for(i=0;i<props.location.pathname.length;i++){if(props.location.pathname[i]==='/'){cont=cont+1;}if(cont===2){str=\"\".concat(str+props.location.pathname[i]);}}fotos=[];textos=[];titulos=[];_context.next=10;return firebase.database().ref(\"posts/feed/\".concat(str)).once('value').then(function(snapshot){Object.keys(snapshot.val().fotos).forEach(function(foto){fotos.push(snapshot.val().fotos[foto]);});Object.keys(snapshot.val().titulos).forEach(function(foto){titulos.push(snapshot.val().titulos[foto]);});Object.keys(snapshot.val().textos).forEach(function(foto){textos.push(snapshot.val().textos[foto]);});});case 10:vetAux=[];for(y=0;y<fotos.length;y++){vetAux.push({titulos:titulos[y],textos:textos[y],images:fotos[y]});}setPostagem(vetAux);_context.next=19;break;case 15:_vetAux=[];_cont=1;Object.keys(aux.post.titulos).forEach(function(titulo){_vetAux.push({titulos:aux.post.titulos[titulo],textos:aux.post.textos['texto'+_cont],images:aux.post.fotos['foto'+_cont]});_cont++;});setPostagem(_vetAux);case 19:case\"end\":return _context.stop();}}},_callee);}));return _carregarDados.apply(this,arguments);}React.useEffect(function(){carregarDados();},[]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(MenuBar,null),/*#__PURE__*/React.createElement(\"div\",{style:{backgroundColor:'white',margin:'6% 5% 1% 5%',borderRadius:'15px'}},/*#__PURE__*/React.createElement(\"div\",{className:\"containerPost\"},postagem.map(function(post,key){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"containerTitle\"},/*#__PURE__*/React.createElement(\"h1\",null,post.titulos)),/*#__PURE__*/React.createElement(\"div\",{className:\"containerImage\"},/*#__PURE__*/React.createElement(\"img\",{alt:\"\",src:post.images})),/*#__PURE__*/React.createElement(\"div\",{className:\"containerTexto\"},/*#__PURE__*/React.createElement(\"p\",null,post.textos)));}))));}","map":{"version":3,"sources":["/Users/fasm/TheBruxoTales/theGeekAwaken/The-Geek-Awaken/frontend/src/pages/postView.js"],"names":["React","MenuBar","firebase","PostView","props","useState","postagem","setPostagem","carregarDados","aux","location","state","undefined","str","cont","i","pathname","length","fotos","textos","titulos","database","ref","once","then","snapshot","Object","keys","val","forEach","foto","push","vetAux","y","images","post","titulo","useEffect","backgroundColor","margin","borderRadius","map","key"],"mappings":"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","sourcesContent":["import React from 'react'\nimport MenuBar from \"../components/menuBar\"\nimport firebase from \"../firebase\"\nimport \"./styles.css\"\n\nexport default function PostView(props){\n\n    const [postagem,setPostagem] = React.useState([])\n\n    async function carregarDados(){\n        let aux = props.location.state\n        if(aux === null || aux === undefined){\n            let str = ''\n            let cont = 0\n            for(let i =0;i<props.location.pathname.length;i++){\n                if(props.location.pathname[i] === '/'){\n                    cont = cont+1\n                }\n                if(cont ===2){\n                    str = `${str+props.location.pathname[i]}`\n                }\n            }\n            let fotos = [];\n            let textos = [];\n            let titulos = [];\n            await firebase.database().ref(`posts/feed/${str}`).once('value').then(function(snapshot){\n                Object.keys(snapshot.val().fotos).forEach(function(foto){\n                    fotos.push(snapshot.val().fotos[foto])\n                })\n                Object.keys(snapshot.val().titulos).forEach(function(foto){\n                    titulos.push(snapshot.val().titulos[foto])\n                })\n                Object.keys(snapshot.val().textos).forEach(function(foto){\n                    textos.push(snapshot.val().textos[foto])\n                })\n            })\n            let vetAux = []\n            for(let y = 0; y<fotos.length;y++){\n                vetAux.push({titulos:titulos[y],textos:textos[y],images:fotos[y]})\n            }\n            setPostagem(vetAux)\n        }else{\n            let vetAux = []\n            let cont = 1\n            Object.keys(aux.post.titulos).forEach(function(titulo){\n                vetAux.push({titulos:aux.post.titulos[titulo],textos:aux.post.textos['texto'+cont],images:aux.post.fotos['foto'+cont]})\n                cont++\n                \n            })\n            setPostagem(vetAux)\n\n        }\n    }\n\n    React.useEffect(()=>{\n        carregarDados();\n    },[])\n\n    return(<div><MenuBar/>\n        <div style={{backgroundColor:'white', margin:'6% 5% 1% 5%', borderRadius:'15px'}} >\n            \n            <div className=\"containerPost\" >\n            {postagem.map((post,key)=>(\n                    <>\n                        <div className=\"containerTitle\"><h1>{post.titulos}</h1></div>\n                        <div className=\"containerImage\"><img alt=\"\" src={post.images}/></div>\n                        <div className=\"containerTexto\"><p>{post.textos}</p></div>\n                    </>\n                ))}\n            </div>\n        </div>\n    </div>\n        \n    );\n}"]},"metadata":{},"sourceType":"module"}