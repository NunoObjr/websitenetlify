{"ast":null,"code":"import _regeneratorRuntime from\"/Users/fasm/TheBruxoTales/theGeekAwaken/The-Geek-Awaken/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/Users/fasm/TheBruxoTales/theGeekAwaken/The-Geek-Awaken/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"/Users/fasm/TheBruxoTales/theGeekAwaken/The-Geek-Awaken/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/fasm/TheBruxoTales/theGeekAwaken/The-Geek-Awaken/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import MenuBar from\"./components/menuBar\";import CatPosts from\"./components/catPosts\";import ReviewsRecentes from'./components/reviewsR';import Modal from'@material-ui/core/Modal';import EditorTexto from'./components/editorTexto';import{makeStyles}from'@material-ui/core/styles';import Select from'@material-ui/core/Select';import FormControl from'@material-ui/core/FormControl';import InputLabel from'@material-ui/core/InputLabel';import firebase from'./firebase';import ImageUpload from'./components/imageUpload';import'./global.css';var useStyles=makeStyles(function(theme){return{modal:{position:'absolute',width:\"90%\",height:'90%',borderRadius:'15px',backgroundColor:theme.palette.background.paper,border:'1px solid #000',display:'flex',flexDirection:'column',justifyContent:'center',alignItems:'center',textAlign:'center',top:'50%',left:'50%',marginRight:'-50%',transform:'translate(-50%, -50%)'},modalEditPost:{width:\"350px\",height:\"180px\",borderRadius:'15px',backgroundColor:theme.palette.background.paper,marginTop:'12%',marginLeft:'25%',padding:\"5%\"},editorTitulo:{marginTop:\"5%\"}};});export default function App(){var classes=useStyles();var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),openLogar=_React$useState4[0],setOpenLogar=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),openEditPost=_React$useState6[0],setOpenEditPost=_React$useState6[1];var _React$useState7=React.useState([]),_React$useState8=_slicedToArray(_React$useState7,2),postagemInfo=_React$useState8[0],setPostagemInfo=_React$useState8[1];var _React$useState9=React.useState([]),_React$useState10=_slicedToArray(_React$useState9,2),image=_React$useState10[0],setImage=_React$useState10[1];var _React$useState11=React.useState(null),_React$useState12=_slicedToArray(_React$useState11,2),mainImage=_React$useState12[0],setMainImage=_React$useState12[1];var _React$useState13=React.useState(null),_React$useState14=_slicedToArray(_React$useState13,2),postFrontKey=_React$useState14[0],setPostFrontKey=_React$useState14[1];var _React$useState15=React.useState([]),_React$useState16=_slicedToArray(_React$useState15,2),postsRecentes=_React$useState16[0],setPostsRecentes=_React$useState16[1];var _React$useState17=React.useState(''),_React$useState18=_slicedToArray(_React$useState17,2),postChoose=_React$useState18[0],setPostChoose=_React$useState18[1];var _React$useState19=React.useState(''),_React$useState20=_slicedToArray(_React$useState19,2),postChooseInfo=_React$useState20[0],setPostChooseInfo=_React$useState20[1];var _React$useState21=React.useState(''),_React$useState22=_slicedToArray(_React$useState21,2),categoria=_React$useState22[0],setCategoria=_React$useState22[1];var _React$useState23=React.useState([]),_React$useState24=_slicedToArray(_React$useState23,2),categorias=_React$useState24[0],setCategorias=_React$useState24[1];var _React$useState25=React.useState(''),_React$useState26=_slicedToArray(_React$useState25,2),mainTitutlo=_React$useState26[0],setMainTitulo=_React$useState26[1];var _React$useState27=React.useState(''),_React$useState28=_slicedToArray(_React$useState27,2),senha=_React$useState28[0],setSenha=_React$useState28[1];var _React$useState29=React.useState(''),_React$useState30=_slicedToArray(_React$useState29,2),username=_React$useState30[0],setUsername=_React$useState30[1];var _React$useState31=React.useState(''),_React$useState32=_slicedToArray(_React$useState31,2),sinopse=_React$useState32[0],setSinopse=_React$useState32[1];var _React$useState33=React.useState(0),_React$useState34=_slicedToArray(_React$useState33,2),progress=_React$useState34[0],setProgress=_React$useState34[1];var _React$useState35=React.useState(0),_React$useState36=_slicedToArray(_React$useState35,2),progressMainImage=_React$useState36[0],setProgressMainImage=_React$useState36[1];var _React$useState37=React.useState(''),_React$useState38=_slicedToArray(_React$useState37,2),urlMainImage=_React$useState38[0],setUrlMainImage=_React$useState38[1];var _React$useState39=React.useState([/*#__PURE__*/React.createElement(EditorTexto,{images:image,sendImage:salvarImagem,postagemInfo:postagemInfo,salvar:salvarPostagem})]),_React$useState40=_slicedToArray(_React$useState39,2),vetorSecoes=_React$useState40[0],setVetorSecoes=_React$useState40[1];function handleOpen(){setOpen(true);localStorage.setItem('url',JSON.stringify([]));}function handleClose(){localStorage.removeItem('logado');setOpen(false);setCategorias([]);setCategorias('');}function handleOpenLogar(){setOpenLogar(true);}function handleCloseLogar(){setOpenLogar(false);}function handleOpenEditPost(key){setOpenEditPost(true);setPostFrontKey(key+1);}function handleCloseEditPost(){setOpenEditPost(false);setPostChoose('');}function handleChange(event){setPostChoose(event.target.value);for(var t=0;t<postsRecentes.length;t++){if(postsRecentes[t].titulo==event.target.value){setPostChooseInfo(postsRecentes[t]);}}};function salvarMainImagem(image,url){setProgressMainImage(0);setMainImage(image);var uploadTask=firebase.storage().ref(\"\".concat(image.name)).put(image);uploadTask.on('state_changed',function(snapshot){var progress=Math.round(snapshot.bytesTransferred/snapshot.totalBytes*100);setProgressMainImage(progress);},function(error){console.log(error);},function(){firebase.storage().ref().child(image.name).getDownloadURL().then(function(url){return setUrlMainImage(url);});});}function salvarImagem(_x,_x2){return _salvarImagem.apply(this,arguments);}function _salvarImagem(){_salvarImagem=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(imagem,images){var bool,i;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:bool=true;for(i=0;i<images.length;i++){if(images[i].name==imagem.name){alert(\"imagem ja salva\");bool=false;}}if(bool){images.push(imagem);setImage(images);alert(\"imagem salva\");setProgress(0);firebase.storage().ref(\"\".concat(imagem.name)).put(imagem).on('state_changed',function(snapshot){var progress=Math.round(snapshot.bytesTransferred/snapshot.totalBytes*100);setProgress(progress);},function(error){console.log(error);},function(){firebase.storage().ref().child(imagem.name).getDownloadURL().then(function(url){var aux=JSON.parse(localStorage.getItem('url'));aux.push(url);localStorage.setItem('url',JSON.stringify(aux));});});}case 3:case\"end\":return _context2.stop();}}},_callee2);}));return _salvarImagem.apply(this,arguments);}function handleMainTitulo(e){setMainTitulo(e.target.value);}function handleCategoria(e){setCategoria(e.target.value);}function enviar(){return _enviar.apply(this,arguments);}function _enviar(){_enviar=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var uerielis,objTitulos,objFotos,objTextos,i,newKeyPost,updates,vetorPostsFeedID,auxCategoria,t,_i,achou,x,upar;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!(postagemInfo.length==0)){_context3.next=4;break;}alert(\"Escreva algo\");_context3.next=54;break;case 4:if(!(image.length<1||mainImage==null)){_context3.next=8;break;}alert(\"selecione as imagens\");_context3.next=54;break;case 8:if(!(categorias.length===0)){_context3.next=12;break;}alert(\"Escreva uma categoria\");_context3.next=54;break;case 12:uerielis=JSON.parse(localStorage.getItem('url'));objTitulos={};objFotos={};objTextos={};for(i=0;i<postagemInfo.length;i++){objTitulos[\"titulo\".concat(i+1)]=postagemInfo[i].titulo;objTextos[\"texto\".concat(i+1)]=postagemInfo[i].texto;objFotos[\"foto\".concat(i+1)]=uerielis[i];}_context3.next=19;return firebase.database().ref(\"posts/feed/\").child(\"feed\").push();case 19:newKeyPost=_context3.sent.key;updates={};updates[\"/posts/feed/\"+newKeyPost]={titulo:mainTitutlo,imagem:urlMainImage,id:newKeyPost,sinopse:sinopse,fotos:objFotos,titulos:objTitulos,textos:objTextos};_context3.next=24;return firebase.database().ref().update(updates);case 24:vetorPostsFeedID=[];_context3.next=27;return firebase.database().ref(\"posts/categorias\").once('value').then(function(snapshot){Object.keys(snapshot.val()).forEach(function(postFeed){vetorPostsFeedID.push(postFeed);});});case 27:auxCategoria=[];for(t=0;t<categorias.length;t++){auxCategoria.push({nome:categorias[t],existe:false});}_i=0;case 30:if(!(_i<auxCategoria.length)){_context3.next=53;break;}achou=false;x=0;case 33:if(!(x<vetorPostsFeedID.length)){_context3.next=44;break;}if(!(auxCategoria[_i].nome==vetorPostsFeedID[x])){_context3.next=41;break;}achou=true;console.log(\"entrou if\");upar={};upar[\"/posts/categorias/\".concat(auxCategoria[_i].nome,\"/\")+mainTitutlo]={titulo:mainTitutlo,imagem:urlMainImage,id:mainTitutlo,sinopse:sinopse,fotos:objFotos,titulos:objTitulos,textos:objTextos};_context3.next=41;return firebase.database().ref().update(upar);case 41:x++;_context3.next=33;break;case 44:if(!(achou===false)){_context3.next=50;break;}console.log(\"else\");upar={};upar[\"/posts/categorias/\".concat(auxCategoria[_i].nome,\"/\")+mainTitutlo]={titulo:mainTitutlo,imagem:urlMainImage,id:mainTitutlo,sinopse:sinopse,fotos:objFotos,titulos:objTitulos,textos:objTextos};_context3.next=50;return firebase.database().ref().update(upar);case 50:_i++;_context3.next=30;break;case 53:window.location.reload();case 54:case\"end\":return _context3.stop();}}},_callee3);}));return _enviar.apply(this,arguments);}function salvarPostagem(postagem,secoes,titulo,texto){if(titulo.length<2||texto.length<2){alert(\"Escreva algo para salvar\");}else{setProgress(0);var vetAux=_toConsumableArray(postagem);vetAux.push({titulo:titulo,texto:texto});setPostagemInfo(vetAux);var vetAux2=secoes==\"init\"?_toConsumableArray(vetorSecoes):_toConsumableArray(secoes);vetAux2.push(/*#__PURE__*/React.createElement(EditorTexto,{images:image,sendImage:salvarImagem,secoes:vetAux2,postagemInfo:vetAux,salvar:salvarPostagem}));setVetorSecoes(vetAux2);}}function handleLogar(){handleOpenLogar();}return/*#__PURE__*/React.createElement(\"div\",{className:\"body\"},/*#__PURE__*/React.createElement(MenuBar,{logar:handleLogar}),/*#__PURE__*/React.createElement(\"div\",{className:\"page\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(CatPosts,{posts:postsRecentes,openModal:handleOpenEditPost})),/*#__PURE__*/React.createElement(ReviewsRecentes,{posts:postsRecentes,openModal:handleOpen})),/*#__PURE__*/React.createElement(Modal,{open:open,onClose:handleClose,\"aria-labelledby\":\"simple-modal-title\",\"aria-describedby\":\"simple-modal-description\"},/*#__PURE__*/React.createElement(\"div\",{className:classes.modal},/*#__PURE__*/React.createElement(\"div\",{id:\"modalStyle\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Imagem do card/carrossel\"),/*#__PURE__*/React.createElement(ImageUpload,{direct:true,func:salvarMainImagem}),/*#__PURE__*/React.createElement(\"img\",{src:urlMainImage,width:\"100px\",height:\"100px\",style:{margin:'2%'}}),/*#__PURE__*/React.createElement(\"progress\",{value:progressMainImage,max:\"40\"}),/*#__PURE__*/React.createElement(\"h1\",{style:{marginTop:'3%'}},\"T\\xEDtulo do card/carrossel\"),/*#__PURE__*/React.createElement(\"input\",{onChange:handleMainTitulo,placeholder:\"T\\xEDtulo do card/carrossel\",style:{height:'60px',width:'60%',fontSize:'20px',padding:'1%'},maxLength:\"30\"}),/*#__PURE__*/React.createElement(\"h1\",{style:{marginTop:'3%'}},\"Categorias\"),/*#__PURE__*/React.createElement(\"input\",{onChange:handleCategoria,placeholder:\"Nome da categoria\",style:{height:'60px',width:'60%',fontSize:'20px',padding:'1%'},maxLength:\"30\"}),categorias.map(function(categoria,key){return/*#__PURE__*/React.createElement(\"p\",{key:key},categoria);}),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){var aux=_toConsumableArray(categorias);aux.push(categoria);setCategoria('');setCategorias(aux);}},\"Adicionar\"),/*#__PURE__*/React.createElement(\"h1\",{style:{marginTop:'3%'}},\"Sinopse do card/carrossel\"),/*#__PURE__*/React.createElement(\"textarea\",{onChange:function onChange(e){return setSinopse(e.target.value);},placeholder:\"Sinopse do card/carrossel\",style:{height:'70px',width:'60%',fontSize:'20px',resize:'none',padding:'1%'},maxLength:\"180\"}),vetorSecoes.map(function(secao,key){return/*#__PURE__*/React.createElement(\"div\",{key:key},secao);}),/*#__PURE__*/React.createElement(\"progress\",{value:progress,max:\"100\"}),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return enviar();}},\"Enviar\")))),/*#__PURE__*/React.createElement(Modal,{open:openLogar,onClose:handleCloseLogar,\"aria-labelledby\":\"simple-modal-title\",\"aria-describedby\":\"simple-modal-description\"},/*#__PURE__*/React.createElement(\"div\",{className:classes.modal},/*#__PURE__*/React.createElement(\"div\",{id:\"modalLogin\"},/*#__PURE__*/React.createElement(\"input\",{onChange:function onChange(e){return setUsername(e.target.value);},placeholder:\"Username\"}),/*#__PURE__*/React.createElement(\"input\",{onChange:function onChange(e){return setSenha(e.target.value);},type:\"password\",placeholder:\"Senha\"}),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){if(username==='editor'&&senha==='logar'){localStorage.setItem(\"logado\",\"logado\");handleCloseLogar();}}},\"Confimar\")))),/*#__PURE__*/React.createElement(Modal,{open:openEditPost,onClose:handleCloseEditPost,\"aria-labelledby\":\"simple-modal-title\",\"aria-describedby\":\"simple-modal-description\"},/*#__PURE__*/React.createElement(\"div\",{className:classes.modalEditPost},/*#__PURE__*/React.createElement(FormControl,{style:{width:\"80%\"}},/*#__PURE__*/React.createElement(InputLabel,{htmlFor:\"postChoose-native-simple\"},\"Escolha um Post\"),/*#__PURE__*/React.createElement(Select,{native:true,value:postChoose,onChange:handleChange,inputProps:{name:'postChoose',id:'postChoose-native-simple'}},/*#__PURE__*/React.createElement(\"option\",{\"aria-label\":\"None\",value:\"\"}),postsRecentes.map(function(post,key){return/*#__PURE__*/React.createElement(\"option\",{key:key,\"aria-label\":\"None\",value:post.titulo},post.titulo);}))),/*#__PURE__*/React.createElement(\"button\",{onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return firebase.database().ref(\"posts/postsFront/postFront\".concat(postFrontKey)).set({fotos:postChooseInfo.fotos,imagem:postChooseInfo.imagem,sinopse:postChooseInfo.sinopse,textos:postChooseInfo.textos,titulos:postChooseInfo.titulos,titulo:postChooseInfo.titulo}).then(handleCloseEditPost());case 2:return _context.abrupt(\"return\",_context.sent);case 3:case\"end\":return _context.stop();}}},_callee);}))},\"Modificar\"))));}// handle change dinamico\n/* const handleChange = (event) => {\n    const name = event.target.name;\n    setState({\n      ...state,\n      [name]: event.target.value,\n    });\n  };*/","map":{"version":3,"sources":["/Users/fasm/TheBruxoTales/theGeekAwaken/The-Geek-Awaken/frontend/src/App.js"],"names":["React","MenuBar","CatPosts","ReviewsRecentes","Modal","EditorTexto","makeStyles","Select","FormControl","InputLabel","firebase","ImageUpload","useStyles","theme","modal","position","width","height","borderRadius","backgroundColor","palette","background","paper","border","display","flexDirection","justifyContent","alignItems","textAlign","top","left","marginRight","transform","modalEditPost","marginTop","marginLeft","padding","editorTitulo","App","classes","useState","open","setOpen","openLogar","setOpenLogar","openEditPost","setOpenEditPost","postagemInfo","setPostagemInfo","image","setImage","mainImage","setMainImage","postFrontKey","setPostFrontKey","postsRecentes","setPostsRecentes","postChoose","setPostChoose","postChooseInfo","setPostChooseInfo","categoria","setCategoria","categorias","setCategorias","mainTitutlo","setMainTitulo","senha","setSenha","username","setUsername","sinopse","setSinopse","progress","setProgress","progressMainImage","setProgressMainImage","urlMainImage","setUrlMainImage","salvarImagem","salvarPostagem","vetorSecoes","setVetorSecoes","handleOpen","localStorage","setItem","JSON","stringify","handleClose","removeItem","handleOpenLogar","handleCloseLogar","handleOpenEditPost","key","handleCloseEditPost","handleChange","event","target","value","t","length","titulo","salvarMainImagem","url","uploadTask","storage","ref","name","put","on","snapshot","Math","round","bytesTransferred","totalBytes","error","console","log","child","getDownloadURL","then","imagem","images","bool","i","alert","push","aux","parse","getItem","handleMainTitulo","e","handleCategoria","enviar","uerielis","objTitulos","objFotos","objTextos","texto","database","newKeyPost","updates","id","fotos","titulos","textos","update","vetorPostsFeedID","once","Object","keys","val","forEach","postFeed","auxCategoria","nome","existe","achou","x","upar","window","location","reload","postagem","secoes","vetAux","vetAux2","handleLogar","margin","fontSize","map","resize","secao","post","set"],"mappings":"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","sourcesContent":["import React from 'react';\nimport MenuBar from \"./components/menuBar\"\nimport CatPosts from \"./components/catPosts\"\nimport ReviewsRecentes from './components/reviewsR'\nimport Modal from '@material-ui/core/Modal';\nimport EditorTexto from './components/editorTexto';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Select from '@material-ui/core/Select';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport firebase from './firebase'\nimport ImageUpload from './components/imageUpload'\nimport './global.css';\n\nconst useStyles = makeStyles((theme) => ({\n    modal: {\n      position: 'absolute',\n      width: \"90%\",\n      height:'90%',\n      borderRadius:'15px',\n      backgroundColor: theme.palette.background.paper,\n      border: '1px solid #000',\n      display:'flex',\n      flexDirection:'column',\n      justifyContent:'center',\n      alignItems:'center', \n      textAlign:'center',\n      top: '50%',\n      left: '50%',\n      marginRight: '-50%',\n      transform: 'translate(-50%, -50%)',\n    },\n    modalEditPost:{\n      width:\"350px\",\n      height:\"180px\",\n      borderRadius:'15px',\n      backgroundColor: theme.palette.background.paper,\n      marginTop: '12%',\n      marginLeft:'25%',\n      padding:\"5%\"\n\n    },\n    editorTitulo:{\n      marginTop:\"5%\"\n    }\n  }));\nexport default function App() {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const [openLogar, setOpenLogar] = React.useState(false);\n  const [openEditPost, setOpenEditPost] = React.useState(false);\n  const [postagemInfo, setPostagemInfo] = React.useState([]);\n  const [image, setImage] = React.useState([])\n  const [mainImage, setMainImage] = React.useState(null)\n  const [postFrontKey, setPostFrontKey] = React.useState(null)\n  const [postsRecentes, setPostsRecentes] = React.useState([])\n  const [postChoose, setPostChoose]= React.useState('')\n  const [postChooseInfo, setPostChooseInfo]= React.useState('')\n  const [categoria, setCategoria]= React.useState('')\n  const [categorias, setCategorias]= React.useState([])\n  const [mainTitutlo, setMainTitulo] = React.useState('')\n  const [senha, setSenha] = React.useState('')\n  const [username, setUsername] = React.useState('')\n  const [sinopse, setSinopse] = React.useState('')\n  const [progress, setProgress] = React.useState(0)\n  const [progressMainImage, setProgressMainImage] = React.useState(0)\n  const [urlMainImage, setUrlMainImage] = React.useState('')\n  const [vetorSecoes, setVetorSecoes] = React.useState([\n    <EditorTexto images={image} sendImage={salvarImagem} postagemInfo={postagemInfo}  salvar={salvarPostagem}/>\n  ])\n  function handleOpen(){\n    setOpen(true);\n    localStorage.setItem('url',JSON.stringify([]))\n  }\n  function handleClose(){\n    localStorage.removeItem('logado')\n    setOpen(false);\n    setCategorias([])\n    setCategorias('')\n  }\n  function handleOpenLogar(){\n    setOpenLogar(true);\n  }\n  function handleCloseLogar(){\n    setOpenLogar(false);\n  }\n  function handleOpenEditPost(key){\n    setOpenEditPost(true);\n    setPostFrontKey(key+1)\n  }\n  function handleCloseEditPost(){\n    setOpenEditPost(false);\n    setPostChoose('')\n  }\n  function handleChange(event){\n    setPostChoose(event.target.value)\n    for(let t = 0;t<postsRecentes.length;t++){\n      if(postsRecentes[t].titulo == event.target.value){\n        setPostChooseInfo(postsRecentes[t])\n      }\n    }\n  };\n  function salvarMainImagem(image,url){\n    setProgressMainImage(0)\n    setMainImage(image)\n    const uploadTask = firebase.storage().ref(`${image.name}`).put(image)\n        uploadTask.on('state_changed',(snapshot)=>{\n            const progress = Math.round((snapshot.bytesTransferred/snapshot.totalBytes)*100)\n            setProgressMainImage(progress)\n        },(error)=>{\n           console.log(error)\n       },()=>{\n           firebase.storage().ref().child(image.name).getDownloadURL().then(url=>setUrlMainImage(url))\n       })\n    \n  }\n  async function salvarImagem(imagem,images){\n    let bool = true\n    for(let i= 0; i<images.length;i++){\n      if(images[i].name == imagem.name){\n        alert(\"imagem ja salva\")\n        bool = false\n      }\n    }\n    if(bool){\n      images.push(imagem)\n      setImage(images)\n      alert(\"imagem salva\")\n      setProgress(0)\n        firebase.storage().ref(`${imagem.name}`).put(imagem).on('state_changed', (snapshot) => {\n         const progress = Math.round((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\n         setProgress(progress);\n       }, (error) => {\n         console.log(error);\n       }, () => {\n         firebase.storage().ref().child(imagem.name).getDownloadURL().then((function(url){\n          let aux = JSON.parse(localStorage.getItem('url'))\n           aux.push(url)\n           localStorage.setItem('url',JSON.stringify(aux))\n         }));\n       })\n    }\n  }\n  function handleMainTitulo(e){\n    setMainTitulo(e.target.value)\n  }\n  function handleCategoria(e){\n    setCategoria(e.target.value)\n  }\n  async function enviar(){\n    if(postagemInfo.length==0){\n      alert(\"Escreva algo\")\n    }\n    else if(image.length<1 ||mainImage == null){\n      alert(\"selecione as imagens\")\n    }\n    else if(categorias.length===0){\n      alert(\"Escreva uma categoria\")\n    }\n    else{\n      const uerielis = JSON.parse(localStorage.getItem('url'))\n      const objTitulos = {}\n      const objFotos = {}\n       const objTextos = {}\n       for(let i = 0; i<postagemInfo.length; i++){\n        objTitulos[`titulo${i+1}`] = postagemInfo[i].titulo\n        objTextos[`texto${i+1}`] = postagemInfo[i].texto\n        objFotos[`foto${i+1}`] = uerielis[i]\n       }\n       var newKeyPost = (await firebase.database().ref(`posts/feed/`).child(\"feed\").push()).key;\n       var updates = {}\n       updates[`/posts/feed/`+ newKeyPost] = {titulo:mainTitutlo,imagem:urlMainImage,id:newKeyPost,sinopse:sinopse,fotos:objFotos,titulos:objTitulos,textos:objTextos}\n       await firebase.database().ref().update(updates)\n    let vetorPostsFeedID = []\n        await firebase.database().ref(`posts/categorias`).once('value').then(function(snapshot){\n            Object.keys(snapshot.val()).forEach(function(postFeed){\n                vetorPostsFeedID.push(postFeed)\n            })\n        })\n        let auxCategoria = []\n        for(let t = 0; t<categorias.length;t++){\n          auxCategoria.push({nome:categorias[t],existe:false})\n        }\n        for(let i = 0; i<auxCategoria.length;i++){\n          let achou = false\n          for(let x=0;x<vetorPostsFeedID.length;x++){\n            if(auxCategoria[i].nome == vetorPostsFeedID[x]){\n              achou = true\n              console.log(\"entrou if\")\n              var upar = {}\n              upar[`/posts/categorias/${auxCategoria[i].nome}/`+ mainTitutlo] = {titulo:mainTitutlo,imagem:urlMainImage,id:mainTitutlo,sinopse:sinopse,fotos:objFotos,titulos:objTitulos,textos:objTextos}\n              await firebase.database().ref().update(upar)\n            }\n          }\n          if(achou===false){\n            console.log(\"else\")\n            var upar = {}\n            upar[`/posts/categorias/${auxCategoria[i].nome}/`+ mainTitutlo] = {titulo:mainTitutlo,imagem:urlMainImage,id:mainTitutlo,sinopse:sinopse,fotos:objFotos,titulos:objTitulos,textos:objTextos}\n            await firebase.database().ref().update(upar)\n          }\n        }\n       window.location.reload()\n    }\n  }\n\n  function salvarPostagem(postagem,secoes,titulo,texto){\n      if(titulo.length<2 || texto.length<2){\n        alert(\"Escreva algo para salvar\")\n      }else{\n        setProgress(0)\n      let vetAux = [...postagem]\n      vetAux.push({titulo:titulo,texto:texto})\n      setPostagemInfo(vetAux)\n      let vetAux2 = secoes == \"init\" ? [...vetorSecoes] : [...secoes]\n      vetAux2.push(<EditorTexto images={image} sendImage={salvarImagem} secoes={vetAux2} postagemInfo={vetAux} salvar={salvarPostagem}/>)\n      setVetorSecoes(vetAux2)\n      }\n  }\n  function handleLogar(){\n    handleOpenLogar()\n  }\n  \n  return (\n    \n    <div className='body' >\n      <MenuBar logar={handleLogar}/>\n      <div className=\"page\">\n        <div><CatPosts posts={postsRecentes} openModal={handleOpenEditPost}/></div> \n        <ReviewsRecentes posts={postsRecentes} openModal={handleOpen}/>\n      </div>\n      <Modal\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"simple-modal-title\"\n        aria-describedby=\"simple-modal-description\">\n          <div className={classes.modal}>\n            <div id='modalStyle'>\n              <h1>Imagem do card/carrossel</h1>\n              <ImageUpload direct={true} func={salvarMainImagem}/> \n              <img src={urlMainImage} width=\"100px\" height=\"100px\" style={{margin:'2%'}} />\n              <progress value={progressMainImage} max=\"40\"/>\n              <h1 style={{marginTop:'3%'}} >Título do card/carrossel</h1>\n              <input onChange={handleMainTitulo} placeholder='Título do card/carrossel' \n              style={{height:'60px',width:'60%',fontSize:'20px',padding:'1%'}} \n              maxLength='30'/>\n              <h1 style={{marginTop:'3%'}} >Categorias</h1>\n              <input onChange={handleCategoria} placeholder='Nome da categoria' \n              style={{height:'60px',width:'60%',fontSize:'20px',padding:'1%'}} \n              maxLength='30'/>\n              {categorias.map((categoria,key)=>(\n                <p key={key}>{categoria}</p>\n              ))}\n              <button onClick={()=>{\n                let aux = [...categorias]\n                aux.push(categoria)\n                setCategoria('')\n                setCategorias(aux)\n              }}>Adicionar</button>\n              <h1 style={{marginTop:'3%'}} >Sinopse do card/carrossel</h1>\n              <textarea onChange={e=>setSinopse(e.target.value)} placeholder='Sinopse do card/carrossel' \n              style={{height:'70px',width:'60%',fontSize:'20px',resize:'none',padding:'1%'}} \n              maxLength='180' />\n            \n            {vetorSecoes.map((secao,key)=>(\n              <div key={key}>\n                {secao}\n            </div>\n            ))}\n            <progress value={progress} max=\"100\"/>\n            <button onClick={()=>enviar()}>Enviar</button>\n            </div>\n          </div>\n      </Modal>\n      <Modal\n        open={openLogar}\n        onClose={handleCloseLogar}\n        aria-labelledby=\"simple-modal-title\"\n        aria-describedby=\"simple-modal-description\">\n        <div className={classes.modal}>\n          <div id='modalLogin'>\n            <input onChange={e=>setUsername(e.target.value)} placeholder=\"Username\"/>\n            <input onChange={e=>setSenha(e.target.value)}  type='password' placeholder=\"Senha\"/>\n            <button onClick={()=>{\n              if(username === 'editor' && senha === 'logar'){\n              localStorage.setItem(\"logado\",\"logado\") \n              handleCloseLogar()\n              }\n            }}>Confimar</button>\n          </div>\n        </div>\n      </Modal>\n      <Modal\n        open={openEditPost}\n        onClose={handleCloseEditPost}\n        aria-labelledby=\"simple-modal-title\"\n        aria-describedby=\"simple-modal-description\">\n        <div className={classes.modalEditPost}>\n        <FormControl style={{width:\"80%\"}}>\n        <InputLabel htmlFor='postChoose-native-simple'>Escolha um Post</InputLabel>\n        <Select\n          native\n          value={postChoose}\n          onChange={handleChange}\n          inputProps={{\n            name: 'postChoose',\n            id: 'postChoose-native-simple',\n          }}\n        >\n        <option aria-label=\"None\" value=\"\" />\n        {postsRecentes.map((post,key)=>(\n          <option key={key} aria-label=\"None\" value={post.titulo}>{post.titulo}</option>\n        ))}\n        </Select>\n      </FormControl>\n        <button onClick={async()=>(\n          await firebase.database().ref(`posts/postsFront/postFront${postFrontKey}`).set({\n            fotos: postChooseInfo.fotos,\n            imagem:postChooseInfo.imagem,\n            sinopse:postChooseInfo.sinopse,\n            textos:postChooseInfo.textos,\n            titulos:postChooseInfo.titulos,\n            titulo:postChooseInfo.titulo\n          }).then(handleCloseEditPost())\n         \n        )}>Modificar</button>\n          \n        </div>\n      </Modal>\n    </div>\n  );\n}\n\n// handle change dinamico\n/* const handleChange = (event) => {\n    const name = event.target.name;\n    setState({\n      ...state,\n      [name]: event.target.value,\n    });\n  };*/"]},"metadata":{},"sourceType":"module"}