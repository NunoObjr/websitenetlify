{"ast":null,"code":"import _regeneratorRuntime from\"/Users/fasm/TheBruxoTales/theGeekAwaken/The-Geek-Awaken/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/Users/fasm/TheBruxoTales/theGeekAwaken/The-Geek-Awaken/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"/Users/fasm/TheBruxoTales/theGeekAwaken/The-Geek-Awaken/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/fasm/TheBruxoTales/theGeekAwaken/The-Geek-Awaken/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import MenuBar from\"./components/menuBar\";import CatPosts from\"./components/catPosts\";import Slide from'./components/slide';import ReviewsRecentes from'./components/reviewsR';import Modal from'@material-ui/core/Modal';import EditorTexto from'./components/editorTexto';import{makeStyles}from'@material-ui/core/styles';import Select from'@material-ui/core/Select';import FormControl from'@material-ui/core/FormControl';import InputLabel from'@material-ui/core/InputLabel';import FormControlLabel from'@material-ui/core/FormControlLabel';import Checkbox from'@material-ui/core/Checkbox';import firebase from'./firebase';import ImageUpload from'./components/imageUpload';import'./global.css';var useStyles=makeStyles(function(theme){return{modal:{position:'absolute',width:\"90%\",height:'90%',borderRadius:'15px',backgroundColor:theme.palette.background.paper,border:'1px solid #000',display:'flex',flexDirection:'column',justifyContent:'center',alignItems:'center',textAlign:'center',top:'50%',left:'50%',marginRight:'-50%',transform:'translate(-50%, -50%)'},modalEditPost:{width:\"350px\",height:\"180px\",borderRadius:'15px',backgroundColor:theme.palette.background.paper,marginTop:'12%',marginLeft:'25%',padding:\"5%\"},editorTitulo:{marginTop:\"5%\"}};});export default function App(){var classes=useStyles();var tipos=['jogos','animes','mangas','filmes','series'];var _React$useState=React.useState([false,false,false,false,false]),_React$useState2=_slicedToArray(_React$useState,2),checkboxState=_React$useState2[0],setCheckoxState=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),open=_React$useState4[0],setOpen=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),openLogar=_React$useState6[0],setOpenLogar=_React$useState6[1];var _React$useState7=React.useState(false),_React$useState8=_slicedToArray(_React$useState7,2),openEditPost=_React$useState8[0],setOpenEditPost=_React$useState8[1];var _React$useState9=React.useState([]),_React$useState10=_slicedToArray(_React$useState9,2),postagemInfo=_React$useState10[0],setPostagemInfo=_React$useState10[1];var _React$useState11=React.useState([]),_React$useState12=_slicedToArray(_React$useState11,2),image=_React$useState12[0],setImage=_React$useState12[1];var _React$useState13=React.useState(null),_React$useState14=_slicedToArray(_React$useState13,2),mainImage=_React$useState14[0],setMainImage=_React$useState14[1];var _React$useState15=React.useState(null),_React$useState16=_slicedToArray(_React$useState15,2),postFrontKey=_React$useState16[0],setPostFrontKey=_React$useState16[1];var _React$useState17=React.useState([]),_React$useState18=_slicedToArray(_React$useState17,2),postsRecentes=_React$useState18[0],setPostsRecentes=_React$useState18[1];var _React$useState19=React.useState(''),_React$useState20=_slicedToArray(_React$useState19,2),postChoose=_React$useState20[0],setPostChoose=_React$useState20[1];var _React$useState21=React.useState(''),_React$useState22=_slicedToArray(_React$useState21,2),postChooseInfo=_React$useState22[0],setPostChooseInfo=_React$useState22[1];var _React$useState23=React.useState(''),_React$useState24=_slicedToArray(_React$useState23,2),categoria=_React$useState24[0],setCategoria=_React$useState24[1];var _React$useState25=React.useState([]),_React$useState26=_slicedToArray(_React$useState25,2),categorias=_React$useState26[0],setCategorias=_React$useState26[1];var _React$useState27=React.useState(''),_React$useState28=_slicedToArray(_React$useState27,2),mainTitutlo=_React$useState28[0],setMainTitulo=_React$useState28[1];var _React$useState29=React.useState(''),_React$useState30=_slicedToArray(_React$useState29,2),senha=_React$useState30[0],setSenha=_React$useState30[1];var _React$useState31=React.useState(''),_React$useState32=_slicedToArray(_React$useState31,2),username=_React$useState32[0],setUsername=_React$useState32[1];var _React$useState33=React.useState(''),_React$useState34=_slicedToArray(_React$useState33,2),sinopse=_React$useState34[0],setSinopse=_React$useState34[1];var _React$useState35=React.useState(0),_React$useState36=_slicedToArray(_React$useState35,2),progress=_React$useState36[0],setProgress=_React$useState36[1];var _React$useState37=React.useState(0),_React$useState38=_slicedToArray(_React$useState37,2),progressMainImage=_React$useState38[0],setProgressMainImage=_React$useState38[1];var _React$useState39=React.useState(''),_React$useState40=_slicedToArray(_React$useState39,2),urlMainImage=_React$useState40[0],setUrlMainImage=_React$useState40[1];var _React$useState41=React.useState([/*#__PURE__*/React.createElement(EditorTexto,{images:image,sendImage:salvarImagem,postagemInfo:postagemInfo,salvar:salvarPostagem})]),_React$useState42=_slicedToArray(_React$useState41,2),vetorSecoes=_React$useState42[0],setVetorSecoes=_React$useState42[1];function handleChangeCheckbox(key){var aux=checkboxState.slice();aux[key]=!checkboxState[key];setCheckoxState(aux);};function handleOpen(){setOpen(true);localStorage.setItem('url',JSON.stringify([]));}function handleClose(){//localStorage.removeItem('logado')\nsetOpen(false);setCategorias([]);setCategoria('');}function handleOpenLogar(){setOpenLogar(true);}function handleCloseLogar(){setOpenLogar(false);}function handleOpenEditPost(key){setOpenEditPost(true);setPostFrontKey(key+1);}function handleCloseEditPost(){setOpenEditPost(false);setPostChoose('');}function handleChange(event){setPostChoose(event.target.value);for(var t=0;t<postsRecentes.length;t++){if(postsRecentes[t].titulo==event.target.value){setPostChooseInfo(postsRecentes[t]);}}};function salvarMainImagem(image,url){setProgressMainImage(0);setMainImage(image);var uploadTask=firebase.storage().ref(\"\".concat(image.name)).put(image);uploadTask.on('state_changed',function(snapshot){var progress=Math.round(snapshot.bytesTransferred/snapshot.totalBytes*100);setProgressMainImage(progress);},function(error){console.log(error);},function(){firebase.storage().ref().child(image.name).getDownloadURL().then(function(url){return setUrlMainImage(url);});});}function salvarImagem(_x,_x2){return _salvarImagem.apply(this,arguments);}function _salvarImagem(){_salvarImagem=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(imagem,images){var bool,i;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:bool=true;for(i=0;i<images.length;i++){if(images[i].name==imagem.name){alert(\"imagem ja salva\");bool=false;}}if(bool){images.push(imagem);setImage(images);alert(\"imagem salva\");setProgress(0);firebase.storage().ref(\"\".concat(imagem.name)).put(imagem).on('state_changed',function(snapshot){var progress=Math.round(snapshot.bytesTransferred/snapshot.totalBytes*100);setProgress(progress);},function(error){console.log(error);},function(){firebase.storage().ref().child(imagem.name).getDownloadURL().then(function(url){var aux=JSON.parse(localStorage.getItem('url'));aux.push(url);localStorage.setItem('url',JSON.stringify(aux));});});}case 3:case\"end\":return _context2.stop();}}},_callee2);}));return _salvarImagem.apply(this,arguments);}function handleMainTitulo(e){setMainTitulo(e.target.value);}function handleCategoria(e){setCategoria(e.target.value);}function enviar(){return _enviar.apply(this,arguments);}function _enviar(){_enviar=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var uerielis,objTitulos,objFotos,objTextos,i,newKeyPost,updates,vetorPostsFeedID,auxCategoria,t,o,_i,achou,x,upar;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!(postagemInfo.length==0)){_context3.next=4;break;}alert(\"Escreva algo\");_context3.next=60;break;case 4:if(!(image.length<1||mainImage==null)){_context3.next=8;break;}alert(\"selecione as imagens\");_context3.next=60;break;case 8:if(!(categorias.length===0)){_context3.next=12;break;}alert(\"Escreva uma categoria\");_context3.next=60;break;case 12:uerielis=JSON.parse(localStorage.getItem('url'));objTitulos={};objFotos={};objTextos={};for(i=0;i<postagemInfo.length;i++){objTitulos[\"titulo\".concat(i+1)]=postagemInfo[i].titulo;objTextos[\"texto\".concat(i+1)]=postagemInfo[i].texto;objFotos[\"foto\".concat(i+1)]=uerielis[i];}_context3.next=19;return firebase.database().ref(\"posts/feed/\").child(\"feed\").push();case 19:newKeyPost=_context3.sent.key;updates={};updates[\"/posts/feed/\"+newKeyPost]={titulo:mainTitutlo,imagem:urlMainImage,id:newKeyPost,sinopse:sinopse,fotos:objFotos,titulos:objTitulos,textos:objTextos};_context3.next=24;return firebase.database().ref().update(updates);case 24:vetorPostsFeedID=[];_context3.next=27;return firebase.database().ref(\"posts/categorias\").once('value').then(function(snapshot){Object.keys(snapshot.val()).forEach(function(postFeed){vetorPostsFeedID.push(postFeed);});});case 27:auxCategoria=[];for(t=0;t<categorias.length;t++){auxCategoria.push({nome:categorias[t],existe:false});}o=0;case 30:if(!(o<checkboxState.length)){_context3.next=59;break;}if(!(checkboxState[o]===true)){_context3.next=56;break;}_i=0;case 33:if(!(_i<auxCategoria.length)){_context3.next=56;break;}achou=false;x=0;case 36:if(!(x<vetorPostsFeedID.length)){_context3.next=47;break;}if(!(auxCategoria[_i].nome==vetorPostsFeedID[x])){_context3.next=44;break;}achou=true;console.log(\"entrou if\");upar={};upar[\"/posts/categorias/\".concat(tipos[o],\"/\").concat(auxCategoria[_i].nome,\"/\")+mainTitutlo]={titulo:mainTitutlo,imagem:urlMainImage,id:mainTitutlo,sinopse:sinopse,fotos:objFotos,titulos:objTitulos,textos:objTextos};_context3.next=44;return firebase.database().ref().update(upar);case 44:x++;_context3.next=36;break;case 47:if(!(achou===false)){_context3.next=53;break;}console.log(\"else\");upar={};upar[\"/posts/categorias/\".concat(tipos[o],\"/\").concat(auxCategoria[_i].nome,\"/\")+mainTitutlo]={titulo:mainTitutlo,imagem:urlMainImage,id:mainTitutlo,sinopse:sinopse,fotos:objFotos,titulos:objTitulos,textos:objTextos};_context3.next=53;return firebase.database().ref().update(upar);case 53:_i++;_context3.next=33;break;case 56:o++;_context3.next=30;break;case 59:/*for(let i = 0; i<auxCategoria.length;i++){\n          let achou = false\n          for(let x=0;x<vetorPostsFeedID.length;x++){\n            if(auxCategoria[i].nome == vetorPostsFeedID[x]){\n              achou = true\n              console.log(\"entrou if\")\n              var upar = {}\n              upar[`/posts/categorias/${auxCategoria[i].nome}/`+ mainTitutlo] = {titulo:mainTitutlo,imagem:urlMainImage,id:mainTitutlo,sinopse:sinopse,fotos:objFotos,titulos:objTitulos,textos:objTextos}\n              await firebase.database().ref().update(upar)\n            }\n          }\n          if(achou===false){\n            console.log(\"else\")\n            var upar = {}\n            upar[`/posts/categorias/${auxCategoria[i].nome}/`+ mainTitutlo] = {titulo:mainTitutlo,imagem:urlMainImage,id:mainTitutlo,sinopse:sinopse,fotos:objFotos,titulos:objTitulos,textos:objTextos}\n            await firebase.database().ref().update(upar)\n          }\n        }\n        */window.location.reload();case 60:case\"end\":return _context3.stop();}}},_callee3);}));return _enviar.apply(this,arguments);}function salvarPostagem(postagem,secoes,titulo,texto){if(titulo.length<2||texto.length<2){alert(\"Escreva algo para salvar\");}else{setProgress(0);var vetAux=_toConsumableArray(postagem);vetAux.push({titulo:titulo,texto:texto});setPostagemInfo(vetAux);var vetAux2=secoes==\"init\"?_toConsumableArray(vetorSecoes):_toConsumableArray(secoes);vetAux2.push(/*#__PURE__*/React.createElement(EditorTexto,{images:image,sendImage:salvarImagem,secoes:vetAux2,postagemInfo:vetAux,salvar:salvarPostagem}));setVetorSecoes(vetAux2);}}function handleLogar(){handleOpenLogar();}return/*#__PURE__*/React.createElement(\"div\",{className:\"body\"},/*#__PURE__*/React.createElement(MenuBar,{logar:handleLogar}),/*#__PURE__*/React.createElement(\"div\",{className:\"page\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(CatPosts,{posts:postsRecentes,openModal:handleOpenEditPost})),/*#__PURE__*/React.createElement(ReviewsRecentes,{posts:postsRecentes,openModal:handleOpen})),/*#__PURE__*/React.createElement(Modal,{open:open,onClose:handleClose,\"aria-labelledby\":\"simple-modal-title\",\"aria-describedby\":\"simple-modal-description\"},/*#__PURE__*/React.createElement(\"div\",{className:classes.modal},/*#__PURE__*/React.createElement(\"div\",{id:\"modalStyle\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Imagem do card/carrossel\"),/*#__PURE__*/React.createElement(ImageUpload,{direct:true,func:salvarMainImagem}),/*#__PURE__*/React.createElement(\"img\",{src:urlMainImage,width:\"100px\",height:\"100px\",style:{margin:'2%'}}),/*#__PURE__*/React.createElement(\"progress\",{value:progressMainImage,max:\"40\"}),/*#__PURE__*/React.createElement(\"h1\",{style:{marginTop:'3%'}},\"T\\xEDtulo do card/carrossel\"),/*#__PURE__*/React.createElement(\"input\",{onChange:handleMainTitulo,placeholder:\"T\\xEDtulo do card/carrossel\",style:{height:'60px',width:'60%',fontSize:'20px',padding:'1%'},maxLength:\"30\"}),/*#__PURE__*/React.createElement(\"h1\",null,\"Tipo do Post\"),tipos.map(function(tipo,key){return/*#__PURE__*/React.createElement(FormControlLabel,{key:key,label:tipo,control:/*#__PURE__*/React.createElement(Checkbox,{checked:checkboxState[key],onChange:function onChange(){return handleChangeCheckbox(key);},name:tipo,color:\"primary\"})});}),/*#__PURE__*/React.createElement(\"h1\",{style:{marginTop:'3%'}},\"Categorias\"),/*#__PURE__*/React.createElement(\"input\",{onChange:handleCategoria,placeholder:\"Nome da categoria\",style:{height:'60px',width:'60%',fontSize:'20px',padding:'1%'},maxLength:\"30\"}),categorias.map(function(categoria,key){return/*#__PURE__*/React.createElement(\"p\",{key:key},categoria);}),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){var aux=_toConsumableArray(categorias);aux.push(categoria);setCategoria('');setCategorias(aux);}},\"Adicionar\"),/*#__PURE__*/React.createElement(\"h1\",{style:{marginTop:'3%'}},\"Sinopse do card/carrossel\"),/*#__PURE__*/React.createElement(\"textarea\",{onChange:function onChange(e){return setSinopse(e.target.value);},placeholder:\"Sinopse do card/carrossel\",style:{height:'70px',width:'60%',fontSize:'20px',resize:'none',padding:'1%'},maxLength:\"180\"}),vetorSecoes.map(function(secao,key){return/*#__PURE__*/React.createElement(\"div\",{key:key},secao);}),/*#__PURE__*/React.createElement(\"progress\",{value:progress,max:\"100\"}),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return enviar();}},\"Enviar\")))),/*#__PURE__*/React.createElement(Modal,{open:openLogar,onClose:handleCloseLogar,\"aria-labelledby\":\"simple-modal-title\",\"aria-describedby\":\"simple-modal-description\"},/*#__PURE__*/React.createElement(\"div\",{className:classes.modal},/*#__PURE__*/React.createElement(\"div\",{id:\"modalLogin\"},/*#__PURE__*/React.createElement(\"input\",{onChange:function onChange(e){return setUsername(e.target.value);},placeholder:\"Username\"}),/*#__PURE__*/React.createElement(\"input\",{onChange:function onChange(e){return setSenha(e.target.value);},type:\"password\",placeholder:\"Senha\"}),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){if(username==='editor'&&senha==='logar'){localStorage.setItem(\"logado\",\"logado\");handleCloseLogar();}}},\"Confimar\")))),/*#__PURE__*/React.createElement(Modal,{open:openEditPost,onClose:handleCloseEditPost,\"aria-labelledby\":\"simple-modal-title\",\"aria-describedby\":\"simple-modal-description\"},/*#__PURE__*/React.createElement(\"div\",{className:classes.modalEditPost},/*#__PURE__*/React.createElement(FormControl,{style:{width:\"80%\"}},/*#__PURE__*/React.createElement(InputLabel,{htmlFor:\"postChoose-native-simple\"},\"Escolha um Post\"),/*#__PURE__*/React.createElement(Select,{native:true,value:postChoose,onChange:handleChange,inputProps:{name:'postChoose',id:'postChoose-native-simple'}},/*#__PURE__*/React.createElement(\"option\",{\"aria-label\":\"None\",value:\"\"}),postsRecentes.map(function(post,key){return/*#__PURE__*/React.createElement(\"option\",{key:key,\"aria-label\":\"None\",value:post.titulo},post.titulo);}))),/*#__PURE__*/React.createElement(\"button\",{onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return firebase.database().ref(\"posts/postsFront/postFront\".concat(postFrontKey)).set({fotos:postChooseInfo.fotos,imagem:postChooseInfo.imagem,sinopse:postChooseInfo.sinopse,textos:postChooseInfo.textos,titulos:postChooseInfo.titulos,titulo:postChooseInfo.titulo}).then(handleCloseEditPost());case 2:return _context.abrupt(\"return\",_context.sent);case 3:case\"end\":return _context.stop();}}},_callee);}))},\"Modificar\"))));}// handle change dinamico\n/* const handleChange = (event) => {\n    const name = event.target.name;\n    setState({\n      ...state,\n      [name]: event.target.value,\n    });\n  };*/","map":{"version":3,"sources":["/Users/fasm/TheBruxoTales/theGeekAwaken/The-Geek-Awaken/frontend/src/App.js"],"names":["React","MenuBar","CatPosts","Slide","ReviewsRecentes","Modal","EditorTexto","makeStyles","Select","FormControl","InputLabel","FormControlLabel","Checkbox","firebase","ImageUpload","useStyles","theme","modal","position","width","height","borderRadius","backgroundColor","palette","background","paper","border","display","flexDirection","justifyContent","alignItems","textAlign","top","left","marginRight","transform","modalEditPost","marginTop","marginLeft","padding","editorTitulo","App","classes","tipos","useState","checkboxState","setCheckoxState","open","setOpen","openLogar","setOpenLogar","openEditPost","setOpenEditPost","postagemInfo","setPostagemInfo","image","setImage","mainImage","setMainImage","postFrontKey","setPostFrontKey","postsRecentes","setPostsRecentes","postChoose","setPostChoose","postChooseInfo","setPostChooseInfo","categoria","setCategoria","categorias","setCategorias","mainTitutlo","setMainTitulo","senha","setSenha","username","setUsername","sinopse","setSinopse","progress","setProgress","progressMainImage","setProgressMainImage","urlMainImage","setUrlMainImage","salvarImagem","salvarPostagem","vetorSecoes","setVetorSecoes","handleChangeCheckbox","key","aux","slice","handleOpen","localStorage","setItem","JSON","stringify","handleClose","handleOpenLogar","handleCloseLogar","handleOpenEditPost","handleCloseEditPost","handleChange","event","target","value","t","length","titulo","salvarMainImagem","url","uploadTask","storage","ref","name","put","on","snapshot","Math","round","bytesTransferred","totalBytes","error","console","log","child","getDownloadURL","then","imagem","images","bool","i","alert","push","parse","getItem","handleMainTitulo","e","handleCategoria","enviar","uerielis","objTitulos","objFotos","objTextos","texto","database","newKeyPost","updates","id","fotos","titulos","textos","update","vetorPostsFeedID","once","Object","keys","val","forEach","postFeed","auxCategoria","nome","existe","o","achou","x","upar","window","location","reload","postagem","secoes","vetAux","vetAux2","handleLogar","margin","fontSize","map","tipo","resize","secao","post","set"],"mappings":"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","sourcesContent":["import React from 'react';\nimport MenuBar from \"./components/menuBar\"\nimport CatPosts from \"./components/catPosts\"\nimport Slide from './components/slide'\nimport ReviewsRecentes from './components/reviewsR'\nimport Modal from '@material-ui/core/Modal';\nimport EditorTexto from './components/editorTexto';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Select from '@material-ui/core/Select';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport firebase from './firebase'\nimport ImageUpload from './components/imageUpload'\nimport './global.css';\n\nconst useStyles = makeStyles((theme) => ({\n    modal: {\n      position: 'absolute',\n      width: \"90%\",\n      height:'90%',\n      borderRadius:'15px',\n      backgroundColor: theme.palette.background.paper,\n      border: '1px solid #000',\n      display:'flex',\n      flexDirection:'column',\n      justifyContent:'center',\n      alignItems:'center', \n      textAlign:'center',\n      top: '50%',\n      left: '50%',\n      marginRight: '-50%',\n      transform: 'translate(-50%, -50%)',\n    },\n    modalEditPost:{\n      width:\"350px\",\n      height:\"180px\",\n      borderRadius:'15px',\n      backgroundColor: theme.palette.background.paper,\n      marginTop: '12%',\n      marginLeft:'25%',\n      padding:\"5%\"\n\n    },\n    editorTitulo:{\n      marginTop:\"5%\"\n    }\n  }));\nexport default function App() {\n  const classes = useStyles();\n  const tipos = ['jogos','animes','mangas','filmes','series']\n  const [checkboxState,setCheckoxState]= React.useState([false,false,false,false,false,])\n  const [open, setOpen] = React.useState(false);\n  const [openLogar, setOpenLogar] = React.useState(false);\n  const [openEditPost, setOpenEditPost] = React.useState(false);\n  const [postagemInfo, setPostagemInfo] = React.useState([]);\n  const [image, setImage] = React.useState([])\n  const [mainImage, setMainImage] = React.useState(null)\n  const [postFrontKey, setPostFrontKey] = React.useState(null)\n  const [postsRecentes, setPostsRecentes] = React.useState([])\n  const [postChoose, setPostChoose]= React.useState('')\n  const [postChooseInfo, setPostChooseInfo]= React.useState('')\n  const [categoria, setCategoria]= React.useState('')\n  const [categorias, setCategorias]= React.useState([])\n  const [mainTitutlo, setMainTitulo] = React.useState('')\n  const [senha, setSenha] = React.useState('')\n  const [username, setUsername] = React.useState('')\n  const [sinopse, setSinopse] = React.useState('')\n  const [progress, setProgress] = React.useState(0)\n  const [progressMainImage, setProgressMainImage] = React.useState(0)\n  const [urlMainImage, setUrlMainImage] = React.useState('')\n  const [vetorSecoes, setVetorSecoes] = React.useState([\n    <EditorTexto images={image} sendImage={salvarImagem} postagemInfo={postagemInfo}  salvar={salvarPostagem}/>\n  ])\n\n  function handleChangeCheckbox(key){\n    let aux = checkboxState.slice()\n    aux[key] = !checkboxState[key]\n    setCheckoxState(aux)\n  };\n  function handleOpen(){\n    setOpen(true);\n    localStorage.setItem('url',JSON.stringify([]))\n  }\n  function handleClose(){\n    //localStorage.removeItem('logado')\n    setOpen(false);\n    setCategorias([])\n    setCategoria('')\n  }\n  function handleOpenLogar(){\n    setOpenLogar(true);\n  }\n  function handleCloseLogar(){\n    setOpenLogar(false);\n  }\n  function handleOpenEditPost(key){\n    setOpenEditPost(true);\n    setPostFrontKey(key+1)\n  }\n  function handleCloseEditPost(){\n    setOpenEditPost(false);\n    setPostChoose('')\n  }\n  function handleChange(event){\n    setPostChoose(event.target.value)\n    for(let t = 0;t<postsRecentes.length;t++){\n      if(postsRecentes[t].titulo == event.target.value){\n        setPostChooseInfo(postsRecentes[t])\n      }\n    }\n  };\n  function salvarMainImagem(image,url){\n    setProgressMainImage(0)\n    setMainImage(image)\n    const uploadTask = firebase.storage().ref(`${image.name}`).put(image)\n        uploadTask.on('state_changed',(snapshot)=>{\n            const progress = Math.round((snapshot.bytesTransferred/snapshot.totalBytes)*100)\n            setProgressMainImage(progress)\n        },(error)=>{\n           console.log(error)\n       },()=>{\n           firebase.storage().ref().child(image.name).getDownloadURL().then(url=>setUrlMainImage(url))\n       })\n    \n  }\n  async function salvarImagem(imagem,images){\n    let bool = true\n    for(let i= 0; i<images.length;i++){\n      if(images[i].name == imagem.name){\n        alert(\"imagem ja salva\")\n        bool = false\n      }\n    }\n    if(bool){\n      images.push(imagem)\n      setImage(images)\n      alert(\"imagem salva\")\n      setProgress(0)\n        firebase.storage().ref(`${imagem.name}`).put(imagem).on('state_changed', (snapshot) => {\n         const progress = Math.round((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\n         setProgress(progress);\n       }, (error) => {\n         console.log(error);\n       }, () => {\n         firebase.storage().ref().child(imagem.name).getDownloadURL().then((function(url){\n          let aux = JSON.parse(localStorage.getItem('url'))\n           aux.push(url)\n           localStorage.setItem('url',JSON.stringify(aux))\n         }));\n       })\n    }\n  }\n  function handleMainTitulo(e){\n    setMainTitulo(e.target.value)\n  }\n  function handleCategoria(e){\n    setCategoria(e.target.value)\n  }\n  async function enviar(){\n    if(postagemInfo.length==0){\n      alert(\"Escreva algo\")\n    }\n    else if(image.length<1 ||mainImage == null){\n      alert(\"selecione as imagens\")\n    }\n    else if(categorias.length===0){\n      alert(\"Escreva uma categoria\")\n    }\n    else{\n      const uerielis = JSON.parse(localStorage.getItem('url'))\n      const objTitulos = {}\n      const objFotos = {}\n       const objTextos = {}\n       for(let i = 0; i<postagemInfo.length; i++){\n        objTitulos[`titulo${i+1}`] = postagemInfo[i].titulo\n        objTextos[`texto${i+1}`] = postagemInfo[i].texto\n        objFotos[`foto${i+1}`] = uerielis[i]\n       }\n       var newKeyPost = (await firebase.database().ref(`posts/feed/`).child(\"feed\").push()).key;\n       var updates = {}\n       updates[`/posts/feed/`+ newKeyPost] = {titulo:mainTitutlo,imagem:urlMainImage,id:newKeyPost,sinopse:sinopse,fotos:objFotos,titulos:objTitulos,textos:objTextos}\n       await firebase.database().ref().update(updates)\n    let vetorPostsFeedID = []\n        await firebase.database().ref(`posts/categorias`).once('value').then(function(snapshot){\n            Object.keys(snapshot.val()).forEach(function(postFeed){\n                vetorPostsFeedID.push(postFeed)\n            })\n        })\n        let auxCategoria = []\n        for(let t = 0; t<categorias.length;t++){\n          auxCategoria.push({nome:categorias[t],existe:false})\n        }\n        for(let o = 0; o < checkboxState.length; o++){\n          if(checkboxState[o] === true){\n            for(let i = 0; i<auxCategoria.length;i++){\n              let achou = false\n              for(let x=0;x<vetorPostsFeedID.length;x++){\n                if(auxCategoria[i].nome == vetorPostsFeedID[x]){\n                  achou = true\n                  console.log(\"entrou if\")\n                  var upar = {}\n                  upar[`/posts/categorias/${tipos[o]}/${auxCategoria[i].nome}/`+ mainTitutlo] = {titulo:mainTitutlo,imagem:urlMainImage,id:mainTitutlo,sinopse:sinopse,fotos:objFotos,titulos:objTitulos,textos:objTextos}\n                  await firebase.database().ref().update(upar)\n                }\n              }\n              if(achou===false){\n                console.log(\"else\")\n                var upar = {}\n                upar[`/posts/categorias/${tipos[o]}/${auxCategoria[i].nome}/`+ mainTitutlo] = {titulo:mainTitutlo,imagem:urlMainImage,id:mainTitutlo,sinopse:sinopse,fotos:objFotos,titulos:objTitulos,textos:objTextos}\n                await firebase.database().ref().update(upar)\n              }\n            }\n          }\n        }\n        /*for(let i = 0; i<auxCategoria.length;i++){\n          let achou = false\n          for(let x=0;x<vetorPostsFeedID.length;x++){\n            if(auxCategoria[i].nome == vetorPostsFeedID[x]){\n              achou = true\n              console.log(\"entrou if\")\n              var upar = {}\n              upar[`/posts/categorias/${auxCategoria[i].nome}/`+ mainTitutlo] = {titulo:mainTitutlo,imagem:urlMainImage,id:mainTitutlo,sinopse:sinopse,fotos:objFotos,titulos:objTitulos,textos:objTextos}\n              await firebase.database().ref().update(upar)\n            }\n          }\n          if(achou===false){\n            console.log(\"else\")\n            var upar = {}\n            upar[`/posts/categorias/${auxCategoria[i].nome}/`+ mainTitutlo] = {titulo:mainTitutlo,imagem:urlMainImage,id:mainTitutlo,sinopse:sinopse,fotos:objFotos,titulos:objTitulos,textos:objTextos}\n            await firebase.database().ref().update(upar)\n          }\n        }\n        */\n       window.location.reload()\n    }\n  }\n\n  function salvarPostagem(postagem,secoes,titulo,texto){\n      if(titulo.length<2 || texto.length<2){\n        alert(\"Escreva algo para salvar\")\n      }else{\n        setProgress(0)\n      let vetAux = [...postagem]\n      vetAux.push({titulo:titulo,texto:texto})\n      setPostagemInfo(vetAux)\n      let vetAux2 = secoes == \"init\" ? [...vetorSecoes] : [...secoes]\n      vetAux2.push(<EditorTexto images={image} sendImage={salvarImagem} secoes={vetAux2} postagemInfo={vetAux} salvar={salvarPostagem}/>)\n      setVetorSecoes(vetAux2)\n      }\n  }\n  function handleLogar(){\n    handleOpenLogar()\n  }\n  \n  return (\n    \n    <div className='body' >\n      \n      <MenuBar logar={handleLogar}/>\n      <div className=\"page\">\n        {/*<div><Slide posts={postsRecentes} openModal={handleOpenEditPost}/></div> */}\n        <div><CatPosts posts={postsRecentes} openModal={handleOpenEditPost}/></div> \n        \n        <ReviewsRecentes posts={postsRecentes} openModal={handleOpen}/>\n        \n      </div>\n      <Modal\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"simple-modal-title\"\n        aria-describedby=\"simple-modal-description\">\n          <div className={classes.modal}>\n            <div id='modalStyle'>\n              <h1>Imagem do card/carrossel</h1>\n              <ImageUpload direct={true} func={salvarMainImagem}/> \n              <img src={urlMainImage} width=\"100px\" height=\"100px\" style={{margin:'2%'}} />\n              <progress value={progressMainImage} max=\"40\"/>\n              <h1 style={{marginTop:'3%'}} >Título do card/carrossel</h1>\n              <input onChange={handleMainTitulo} placeholder='Título do card/carrossel' \n              style={{height:'60px',width:'60%',fontSize:'20px',padding:'1%'}} \n              maxLength='30'/>\n              <h1>Tipo do Post</h1>\n              {tipos.map((tipo,key)=>(\n                                        <FormControlLabel\n                                        key={key}\n                                        label={tipo}\n                                        control={<Checkbox\n                                                checked={checkboxState[key]}\n                                                onChange={()=>handleChangeCheckbox(key)}\n                                                name={tipo}\n                                                color=\"primary\"\n                                                />}\n                                        />\n                                      ))}\n              <h1 style={{marginTop:'3%'}} >Categorias</h1>\n              <input onChange={handleCategoria} placeholder='Nome da categoria' \n              style={{height:'60px',width:'60%',fontSize:'20px',padding:'1%'}} \n              maxLength='30'/>\n              {categorias.map((categoria,key)=>(\n                <p key={key}>{categoria}</p>\n              ))}\n              <button onClick={()=>{\n                let aux = [...categorias]\n                aux.push(categoria)\n                setCategoria('')\n                setCategorias(aux)\n              }}>Adicionar</button>\n              <h1 style={{marginTop:'3%'}} >Sinopse do card/carrossel</h1>\n              <textarea onChange={e=>setSinopse(e.target.value)} placeholder='Sinopse do card/carrossel' \n              style={{height:'70px',width:'60%',fontSize:'20px',resize:'none',padding:'1%'}} \n              maxLength='180' />\n            \n            {vetorSecoes.map((secao,key)=>(\n              <div key={key}>\n                {secao}\n            </div>\n            ))}\n            <progress value={progress} max=\"100\"/>\n            <button onClick={()=>enviar()}>Enviar</button>\n            </div>\n          </div>\n      </Modal>\n      <Modal\n        open={openLogar}\n        onClose={handleCloseLogar}\n        aria-labelledby=\"simple-modal-title\"\n        aria-describedby=\"simple-modal-description\">\n        <div className={classes.modal}>\n          <div id='modalLogin'>\n            <input onChange={e=>setUsername(e.target.value)} placeholder=\"Username\"/>\n            <input onChange={e=>setSenha(e.target.value)}  type='password' placeholder=\"Senha\"/>\n            <button onClick={()=>{\n              if(username === 'editor' && senha === 'logar'){\n              localStorage.setItem(\"logado\",\"logado\") \n              handleCloseLogar()\n              }\n            }}>Confimar</button>\n          </div>\n        </div>\n      </Modal>\n      <Modal\n        open={openEditPost}\n        onClose={handleCloseEditPost}\n        aria-labelledby=\"simple-modal-title\"\n        aria-describedby=\"simple-modal-description\">\n        <div className={classes.modalEditPost}>\n        <FormControl style={{width:\"80%\"}}>\n        <InputLabel htmlFor='postChoose-native-simple'>Escolha um Post</InputLabel>\n        <Select\n          native\n          value={postChoose}\n          onChange={handleChange}\n          inputProps={{\n            name: 'postChoose',\n            id: 'postChoose-native-simple',\n          }}\n        >\n        <option aria-label=\"None\" value=\"\" />\n        {postsRecentes.map((post,key)=>(\n          <option key={key} aria-label=\"None\" value={post.titulo}>{post.titulo}</option>\n        ))}\n        </Select>\n      </FormControl>\n        <button onClick={async()=>(\n          await firebase.database().ref(`posts/postsFront/postFront${postFrontKey}`).set({\n            fotos: postChooseInfo.fotos,\n            imagem:postChooseInfo.imagem,\n            sinopse:postChooseInfo.sinopse,\n            textos:postChooseInfo.textos,\n            titulos:postChooseInfo.titulos,\n            titulo:postChooseInfo.titulo\n          }).then(handleCloseEditPost())\n         \n        )}>Modificar</button>\n          \n        </div>\n      </Modal>\n    </div>\n  );\n}\n\n// handle change dinamico\n/* const handleChange = (event) => {\n    const name = event.target.name;\n    setState({\n      ...state,\n      [name]: event.target.value,\n    });\n  };*/"]},"metadata":{},"sourceType":"module"}