{"ast":null,"code":"import _regeneratorRuntime from\"/Users/fasm/TheBruxoTales/theGeekAwaken/The-Geek-Awaken/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/fasm/TheBruxoTales/theGeekAwaken/The-Geek-Awaken/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/fasm/TheBruxoTales/theGeekAwaken/The-Geek-Awaken/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import firebase from\"../firebase\";import'./styles.css';export default function ReviewsRecentes(){var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),vetorStorage=_React$useState2[0],setVetorStorage=_React$useState2[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),vetor=_React$useState4[0],setVetor=_React$useState4[1];var _React$useState5=React.useState([]),_React$useState6=_slicedToArray(_React$useState5,2),vetorCats=_React$useState6[0],setVetorCats=_React$useState6[1];var _React$useState7=React.useState(0),_React$useState8=_slicedToArray(_React$useState7,2),contador=_React$useState8[0],setContador=_React$useState8[1];function carregarDados(){return _carregarDados.apply(this,arguments);}function _carregarDados(){_carregarDados=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var vetorPostsFeedID,vetorAux,cont;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:vetorPostsFeedID=[];_context.next=3;return firebase.database().ref(\"posts/feed\").once('value').then(function(snapshot){Object.keys(snapshot.val()).forEach(function(postFeed){vetorPostsFeedID.push(snapshot.val()[postFeed]);});});case 3:vetorAux=[];cont=contador;for(cont;cont<vetorPostsFeedID.length;cont++){if(cont<4){vetorAux.push(vetorPostsFeedID[cont]);}}console.log(vetorAux);setContador(4);setVetorCats(vetorAux);setVetorStorage(vetorPostsFeedID);case 10:case\"end\":return _context.stop();}}},_callee);}));return _carregarDados.apply(this,arguments);}React.useEffect(function(){carregarDados();},[]);function handleClick(id){window.location=\"/postView?id=\".concat(id);}function verMais(){var vetorAux=[];var cont=contador;var aux=0;var i=0;for(var y=0;y<vetorCats.length;y++){vetorAux.push(vetorCats[y]);}if(vetorStorage.length-cont<4){cont--;aux=vetorStorage.length-cont;for(var t=0;t<aux;t++){vetorAux.push(vetorStorage[cont]);cont++;}}for(cont;cont<vetorStorage.length;cont++){i++;if(i<4){vetorAux.push(vetorStorage[cont]);}}aux!=0?setContador(contador+aux):setContador(contador+4);setVetorCats(vetorAux);}return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"r\"},\"Reviews Recentes\"),vetorCats.map(function(cat,key){return/*#__PURE__*/React.createElement(\"div\",{className:\"card\",key:key,onClick:function onClick(){return handleClick(cat.id);}},/*#__PURE__*/React.createElement(\"img\",{className:\"cardImage\",alt:\"card\",src:cat.imagem}),/*#__PURE__*/React.createElement(\"div\",{className:\"nota\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"notaN\"},cat.titulo)),/*#__PURE__*/React.createElement(\"div\",{className:\"cardContent\"},/*#__PURE__*/React.createElement(\"h1\",null,cat.title),/*#__PURE__*/React.createElement(\"h2\",{className:\"plataforma\"},\"PC\")));}),/*#__PURE__*/React.createElement(\"div\",{className:\"verMaisContainer\",style:{cursor:'pointer'},onClick:function onClick(){return verMais();}},/*#__PURE__*/React.createElement(\"h1\",{className:\"verMaisText\"},\"Ver Mais\")));}","map":{"version":3,"sources":["/Users/fasm/TheBruxoTales/theGeekAwaken/The-Geek-Awaken/frontend/src/components/reviewsR.js"],"names":["React","firebase","ReviewsRecentes","useState","vetorStorage","setVetorStorage","vetor","setVetor","vetorCats","setVetorCats","contador","setContador","carregarDados","vetorPostsFeedID","database","ref","once","then","snapshot","Object","keys","val","forEach","postFeed","push","vetorAux","cont","length","console","log","useEffect","handleClick","id","window","location","verMais","aux","i","y","t","map","cat","key","imagem","titulo","title","cursor"],"mappings":"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","sourcesContent":["import React from 'react'\nimport firebase from \"../firebase\"\nimport './styles.css'\n\nexport default function ReviewsRecentes() {\n    const [vetorStorage,setVetorStorage] = React.useState([])\n    const [vetor,setVetor] = React.useState([])\n    const [vetorCats, setVetorCats] = React.useState([])\n    const [contador, setContador] = React.useState(0)\n    \n    async function carregarDados(){\n        let vetorPostsFeedID = []\n        await firebase.database().ref(`posts/feed`).once('value').then(function(snapshot){\n            Object.keys(snapshot.val()).forEach(function(postFeed){\n                vetorPostsFeedID.push(snapshot.val()[postFeed])\n            })\n        })\n\n        let vetorAux = [];\n        let cont = contador\n        for(cont; cont<vetorPostsFeedID.length;cont++){\n            if(cont<4){\n                vetorAux.push(vetorPostsFeedID[cont])\n            }\n        }\n        console.log(vetorAux)\n        setContador(4)\n        setVetorCats(vetorAux);\n        setVetorStorage(vetorPostsFeedID)\n    }\n\n    React.useEffect(()=>{\n        carregarDados();\n    },[])\n\n    function handleClick(id) {\n        window.location = `/postView?id=${id}`\n    }\n\n    function verMais() {\n        let vetorAux = [];\n        let cont = contador\n        let aux = 0\n        let i = 0\n        for(let y = 0; y<vetorCats.length; y++){\n            vetorAux.push(vetorCats[y])\n        }\n        if(vetorStorage.length - cont < 4){\n            cont--\n            aux = vetorStorage.length - cont\n            for(let t=0; t<aux;t++){\n                vetorAux.push(vetorStorage[cont])\n                cont++\n            }\n        }\n        for(cont; cont<vetorStorage.length;cont++){\n            i++\n            if(i<4){\n                vetorAux.push(vetorStorage[cont])\n            }\n        }\n        aux != 0 ?  setContador(contador+aux) : setContador(contador+4)\n        setVetorCats(vetorAux)\n    }\n\n    return (\n        <div>\n            <div className=\"r\">Reviews Recentes</div>\n            {vetorCats.map((cat, key) => (\n                <div className='card' key={key} onClick={() => handleClick(cat.id)} >\n                    <img className=\"cardImage\" alt='card' src={cat.imagem} />\n\n                    <div className='nota'>\n                         <h1 className=\"notaN\">{cat.titulo}</h1>\n                    </div>\n\n                    <div className=\"cardContent\">\n                        <h1>{cat.title}</h1>\n                        <h2 className='plataforma' >PC</h2>\n                    </div>\n\n                </div>\n            ))}\n\n            <div className=\"verMaisContainer\" style={{ cursor: 'pointer' }} onClick={()=>verMais()} >\n                <h1 className='verMaisText'>Ver Mais</h1>\n            </div>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}