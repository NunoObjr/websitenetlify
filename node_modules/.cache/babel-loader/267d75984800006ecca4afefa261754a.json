{"ast":null,"code":"import _regeneratorRuntime from\"/Users/fasm/TheBruxoTales/theGeekAwaken/The-Geek-Awaken/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/fasm/TheBruxoTales/theGeekAwaken/The-Geek-Awaken/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/fasm/TheBruxoTales/theGeekAwaken/The-Geek-Awaken/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import MenuBar from\"../components/menuBar\";import imagem from\"../assets/WhatsApp Image 2020-05-29 at 17.22.47.jpeg\";import Banner from\"../components/banner\";import firebase from\"../firebase\";import\"./styles.css\";export default function PostView(){var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),postId=_React$useState2[0],setPostId=_React$useState2[1];var _React$useState3=React.useState({images:'',textos:'',titulos:''}),_React$useState4=_slicedToArray(_React$useState3,2),post=_React$useState4[0],setPost=_React$useState4[1];var _React$useState5=React.useState([]),_React$useState6=_slicedToArray(_React$useState5,2),vetor=_React$useState6[0],setVetor=_React$useState6[1];function carregarDados(){return _carregarDados.apply(this,arguments);}function _carregarDados(){_carregarDados=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var str,i,fotos,textos,titulos;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:str='';for(i=0;i<window.location.search.length;i++){if(i>3){str=\"\".concat(str)+\"\".concat(window.location.search[i]);}}fotos=[];textos=[];titulos=[];_context.next=7;return firebase.database().ref(\"posts/postsFront/\".concat(str)).once('value').then(function(snapshot){Object.keys(snapshot.val().fotos).forEach(function(foto){fotos.push(snapshot.val().fotos[foto]);});Object.keys(snapshot.val().titulos).forEach(function(foto){titulos.push(snapshot.val().titulos[foto]);});Object.keys(snapshot.val().textos).forEach(function(foto){textos.push(snapshot.val().textos[foto]);});});case 7:setPost({titulos:titulos,images:fotos,textos:textos});setPostId(str);setVetor(titulos);case 10:case\"end\":return _context.stop();}}},_callee);}));return _carregarDados.apply(this,arguments);}React.useEffect(function(){carregarDados();},[]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Banner,null),/*#__PURE__*/React.createElement(MenuBar,null),/*#__PURE__*/React.createElement(\"div\",{className:\"containerPost\"},vetor.map(function(titulo,key){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"containerTitle\"},/*#__PURE__*/React.createElement(\"h1\",null,titulo)),/*#__PURE__*/React.createElement(\"div\",{className:\"containerImage\"},/*#__PURE__*/React.createElement(\"img\",{src:post.images[key]})),/*#__PURE__*/React.createElement(\"div\",{className:\"containerTexto\"},/*#__PURE__*/React.createElement(\"p\",null,post.textos[key])));})));}","map":{"version":3,"sources":["/Users/fasm/TheBruxoTales/theGeekAwaken/The-Geek-Awaken/frontend/src/pages/postView.js"],"names":["React","MenuBar","imagem","Banner","firebase","PostView","useState","postId","setPostId","images","textos","titulos","post","setPost","vetor","setVetor","carregarDados","str","i","window","location","search","length","fotos","database","ref","once","then","snapshot","Object","keys","val","forEach","foto","push","useEffect","map","titulo","key"],"mappings":"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","sourcesContent":["import React from 'react'\nimport MenuBar from \"../components/menuBar\"\nimport imagem from \"../assets/WhatsApp Image 2020-05-29 at 17.22.47.jpeg\"\nimport Banner from \"../components/banner\"\nimport firebase from \"../firebase\"\nimport \"./styles.css\"\n\nexport default function PostView(){\n\n    const [postId, setPostId] = React.useState(null);\n    const [post, setPost] = React.useState({images:'', textos:'', titulos:''});\n    const [vetor,setVetor] = React.useState([])\n\n    async function carregarDados(){\n        let str = '';\n        for(var i =0; i<window.location.search.length;i++){\n            if(i>3){\n                str = `${str}` + `${window.location.search[i]}`\n            }\n        }\n        let fotos = [];\n        let textos = [];\n        let titulos = [];\n        await firebase.database().ref(`posts/postsFront/${str}`).once('value').then(function(snapshot){\n            Object.keys(snapshot.val().fotos).forEach(function(foto){\n                fotos.push(snapshot.val().fotos[foto])\n            })\n            Object.keys(snapshot.val().titulos).forEach(function(foto){\n                titulos.push(snapshot.val().titulos[foto])\n            })\n            Object.keys(snapshot.val().textos).forEach(function(foto){\n                textos.push(snapshot.val().textos[foto])\n            })\n            \n        })\n\n        setPost({titulos:titulos,images:fotos,textos:textos})\n        setPostId(str)\n        setVetor(titulos)\n    }\n\n    React.useEffect(()=>{\n        carregarDados();\n    },[])\n\n    return(\n        <div>\n            <Banner/>\n            <MenuBar/>\n            <div className=\"containerPost\">\n            {vetor.map((titulo,key)=>(\n                    <>\n                        <div className=\"containerTitle\"><h1>{titulo}</h1></div>\n                        <div className=\"containerImage\"><img src={post.images[key]}/></div>\n                        <div className=\"containerTexto\"><p>{post.textos[key]}</p></div>\n                    </>\n                ))}\n            </div>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}