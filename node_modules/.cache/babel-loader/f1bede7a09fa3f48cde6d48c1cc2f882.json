{"ast":null,"code":"import _regeneratorRuntime from\"/Users/fasm/TheBruxoTales/theGeekAwaken/The-Geek-Awaken/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/fasm/TheBruxoTales/theGeekAwaken/The-Geek-Awaken/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/fasm/TheBruxoTales/theGeekAwaken/The-Geek-Awaken/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import MenuBar from\"../components/menuBar\";import imagem from\"../assets/WhatsApp Image 2020-05-29 at 17.22.47.jpeg\";import Banner from\"../components/banner\";import firebase from\"../firebase\";import\"./styles.css\";export default function PostView(){var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),postId=_React$useState2[0],setPostId=_React$useState2[1];var _React$useState3=React.useState({image:'',texto:'',titulo:''}),_React$useState4=_slicedToArray(_React$useState3,2),post=_React$useState4[0],setPost=_React$useState4[1];function carregarDados(){return _carregarDados.apply(this,arguments);}function _carregarDados(){_carregarDados=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var str,i;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:str='';for(i=0;i<window.location.search.length;i++){if(i>3){str=\"\".concat(str)+\"\".concat(window.location.search[i]);}}_context.next=4;return firebase.database().ref(\"posts/\".concat(str)).once('value').then(function(snapshot){console.log(snapshot.val());setPost({texto:snapshot.val().texto,titulo:snapshot.val().titulo,image:snapshot.val().imagem});});case 4:setPostId(str);case 5:case\"end\":return _context.stop();}}},_callee);}));return _carregarDados.apply(this,arguments);}React.useEffect(function(){carregarDados();},[]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Banner,null),/*#__PURE__*/React.createElement(MenuBar,null),/*#__PURE__*/React.createElement(\"div\",{className:\"containerPost\"},/*#__PURE__*/React.createElement(\"div\",{className:\"containerTitle\"},/*#__PURE__*/React.createElement(\"h1\",null,post.titulo)),/*#__PURE__*/React.createElement(\"div\",{className:\"containerImage\"},/*#__PURE__*/React.createElement(\"img\",{src:post.image})),/*#__PURE__*/React.createElement(\"div\",{className:\"containerTexto\"},/*#__PURE__*/React.createElement(\"p\",null),post.texto)));}","map":{"version":3,"sources":["/Users/fasm/TheBruxoTales/theGeekAwaken/The-Geek-Awaken/frontend/src/pages/postView.js"],"names":["React","MenuBar","imagem","Banner","firebase","PostView","useState","postId","setPostId","image","texto","titulo","post","setPost","carregarDados","str","i","window","location","search","length","database","ref","once","then","snapshot","console","log","val","useEffect"],"mappings":"kiBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sDAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,aAArB,CACA,MAAO,cAAP,CAEA,cAAe,SAASC,CAAAA,QAAT,EAAmB,qBAEFL,KAAK,CAACM,QAAN,CAAe,IAAf,CAFE,oDAEvBC,MAFuB,qBAEfC,SAFe,0CAGNR,KAAK,CAACM,QAAN,CAAe,CAACG,KAAK,CAAC,EAAP,CAAWC,KAAK,CAAC,EAAjB,CAAqBC,MAAM,CAAC,EAA5B,CAAf,CAHM,qDAGvBC,IAHuB,qBAGjBC,OAHiB,6BAKfC,CAAAA,aALe,iJAK9B,6IACQC,GADR,CACc,EADd,CAEI,IAAQC,CAAR,CAAW,CAAX,CAAcA,CAAC,CAACC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuBC,MAAvC,CAA8CJ,CAAC,EAA/C,CAAkD,CAC9C,GAAGA,CAAC,CAAC,CAAL,CAAO,CACHD,GAAG,CAAG,UAAGA,GAAH,YAAcE,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuBH,CAAvB,CAAd,CAAN,CACH,CACJ,CANL,sBAOUZ,CAAAA,QAAQ,CAACiB,QAAT,GAAoBC,GAApB,iBAAiCP,GAAjC,GAAwCQ,IAAxC,CAA6C,OAA7C,EAAsDC,IAAtD,CAA2D,SAASC,QAAT,CAAkB,CAC/EC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,GAAT,EAAZ,EACAf,OAAO,CAAC,CAACH,KAAK,CAACe,QAAQ,CAACG,GAAT,GAAelB,KAAtB,CACJC,MAAM,CAACc,QAAQ,CAACG,GAAT,GAAejB,MADlB,CAEJF,KAAK,CAACgB,QAAQ,CAACG,GAAT,GAAe1B,MAFjB,CAAD,CAAP,CAGH,CALK,CAPV,QAaIM,SAAS,CAACO,GAAD,CAAT,CAbJ,sDAL8B,gDAqB9Bf,KAAK,CAAC6B,SAAN,CAAgB,UAAI,CAChBf,aAAa,GAChB,CAFD,CAEE,EAFF,EAIA,mBACI,4CACI,oBAAC,MAAD,MADJ,cAEI,oBAAC,OAAD,MAFJ,cAGI,2BAAK,SAAS,CAAC,eAAf,eACI,2BAAK,SAAS,CAAC,gBAAf,eAAgC,8BAAKF,IAAI,CAACD,MAAV,CAAhC,CADJ,cAEI,2BAAK,SAAS,CAAC,gBAAf,eAAgC,2BAAK,GAAG,CAAEC,IAAI,CAACH,KAAf,EAAhC,CAFJ,cAGI,2BAAK,SAAS,CAAC,gBAAf,eAAgC,6BAAhC,CAAwCG,IAAI,CAACF,KAA7C,CAHJ,CAHJ,CADJ,CAWH","sourcesContent":["import React from 'react'\nimport MenuBar from \"../components/menuBar\"\nimport imagem from \"../assets/WhatsApp Image 2020-05-29 at 17.22.47.jpeg\"\nimport Banner from \"../components/banner\"\nimport firebase from \"../firebase\"\nimport \"./styles.css\"\n\nexport default function PostView(){\n\n    const [postId, setPostId] = React.useState(null);\n    const [post, setPost] = React.useState({image:'', texto:'', titulo:''});\n\n    async function carregarDados(){\n        let str = '';\n        for(var i =0; i<window.location.search.length;i++){\n            if(i>3){\n                str = `${str}` + `${window.location.search[i]}`\n            }\n        }\n        await firebase.database().ref(`posts/${str}`).once('value').then(function(snapshot){\n            console.log(snapshot.val())\n            setPost({texto:snapshot.val().texto,\n                titulo:snapshot.val().titulo,\n                image:snapshot.val().imagem})\n        })\n        setPostId(str)\n    }\n\n    React.useEffect(()=>{\n        carregarDados();\n    },[])\n\n    return(\n        <div>\n            <Banner/>\n            <MenuBar/>\n            <div className=\"containerPost\">\n                <div className=\"containerTitle\"><h1>{post.titulo}</h1></div>\n                <div className=\"containerImage\"><img src={post.image}/></div>\n                <div className=\"containerTexto\"><p></p>{post.texto}</div>\n            </div>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}