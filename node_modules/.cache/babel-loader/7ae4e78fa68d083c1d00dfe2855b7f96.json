{"ast":null,"code":"var _jsxFileName = \"/Users/fasm/TheBruxoTales/thegeekawakeen/src/pages/postView.js\";\nimport React from 'react';\nimport MenuBar from \"../components/menuBar\";\nimport firebase from \"../firebase\";\nimport \"./styles.css\";\nexport default function PostView(props) {\n  const [postagem, setPostagem] = React.useState([]);\n\n  async function carregarDados() {\n    let aux = props.location.state;\n\n    if (aux === null || aux === undefined) {\n      let str = '';\n      let cont = 0;\n\n      for (let i = 0; i < props.location.pathname.length; i++) {\n        if (props.location.pathname[i] === '/') {\n          cont = cont + 1;\n        }\n\n        if (cont === 2) {\n          str = `${str + props.location.pathname[i]}`;\n        }\n      }\n\n      let fotos = [];\n      let textos = [];\n      let titulos = [];\n      await firebase.database().ref(`posts/feed/${str}`).once('value').then(function (snapshot) {\n        Object.keys(snapshot.val().fotos).forEach(function (foto) {\n          fotos.push(snapshot.val().fotos[foto]);\n        });\n        Object.keys(snapshot.val().titulos).forEach(function (foto) {\n          titulos.push(snapshot.val().titulos[foto]);\n        });\n        Object.keys(snapshot.val().textos).forEach(function (foto) {\n          textos.push(snapshot.val().textos[foto]);\n        });\n      });\n      let vetAux = [];\n\n      for (let y = 0; y < fotos.length; y++) {\n        vetAux.push({\n          titulos: titulos[y],\n          textos: textos[y],\n          images: fotos[y]\n        });\n      }\n\n      setPostagem(vetAux);\n    } else {\n      let vetAux = [];\n      let cont = 1;\n      Object.keys(aux.post.titulos).forEach(function (titulo) {\n        vetAux.push({\n          titulos: aux.post.titulos[titulo],\n          textos: aux.post.textos['texto' + cont],\n          images: aux.post.fotos['foto' + cont]\n        });\n        cont++;\n      });\n      setPostagem(vetAux);\n    }\n  }\n\n  React.useEffect(() => {\n    carregarDados();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(MenuBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      backgroundColor: 'white',\n      margin: '6% 5% 1% 5%',\n      borderRadius: '15px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"containerPost\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, postagem.map((post, key) => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"containerTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 57\n    }\n  }, post.titulos)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"containerImage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"\",\n    src: post.images,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 57\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"containerTexto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 57\n    }\n  }, post.textos))))), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, \"teste\")));\n}","map":{"version":3,"sources":["/Users/fasm/TheBruxoTales/thegeekawakeen/src/pages/postView.js"],"names":["React","MenuBar","firebase","PostView","props","postagem","setPostagem","useState","carregarDados","aux","location","state","undefined","str","cont","i","pathname","length","fotos","textos","titulos","database","ref","once","then","snapshot","Object","keys","val","forEach","foto","push","vetAux","y","images","post","titulo","useEffect","backgroundColor","margin","borderRadius","map","key"],"mappings":"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","sourcesContent":["import React from 'react'\nimport MenuBar from \"../components/menuBar\"\nimport firebase from \"../firebase\"\nimport \"./styles.css\"\n\nexport default function PostView(props){\n\n    const [postagem,setPostagem] = React.useState([])\n\n    async function carregarDados(){\n        let aux = props.location.state\n        if(aux === null || aux === undefined){\n            let str = ''\n            let cont = 0\n            for(let i =0;i<props.location.pathname.length;i++){\n                if(props.location.pathname[i] === '/'){\n                    cont = cont+1\n                }\n                if(cont ===2){\n                    str = `${str+props.location.pathname[i]}`\n                }\n            }\n            let fotos = [];\n            let textos = [];\n            let titulos = [];\n            await firebase.database().ref(`posts/feed/${str}`).once('value').then(function(snapshot){\n                Object.keys(snapshot.val().fotos).forEach(function(foto){\n                    fotos.push(snapshot.val().fotos[foto])\n                })\n                Object.keys(snapshot.val().titulos).forEach(function(foto){\n                    titulos.push(snapshot.val().titulos[foto])\n                })\n                Object.keys(snapshot.val().textos).forEach(function(foto){\n                    textos.push(snapshot.val().textos[foto])\n                })\n            })\n            let vetAux = []\n            for(let y = 0; y<fotos.length;y++){\n                vetAux.push({titulos:titulos[y],textos:textos[y],images:fotos[y]})\n            }\n            setPostagem(vetAux)\n        }else{\n            let vetAux = []\n            let cont = 1\n            Object.keys(aux.post.titulos).forEach(function(titulo){\n                vetAux.push({titulos:aux.post.titulos[titulo],textos:aux.post.textos['texto'+cont],images:aux.post.fotos['foto'+cont]})\n                cont++\n                \n            })\n            setPostagem(vetAux)\n\n        }\n    }\n\n    React.useEffect(()=>{\n        carregarDados();\n    },[])\n\n    return(<div><MenuBar/>\n        <div style={{backgroundColor:'white', margin:'6% 5% 1% 5%', borderRadius:'15px'}} >\n            \n            <div className=\"containerPost\" >\n            {postagem.map((post,key)=>(\n                    <>\n                        <div className=\"containerTitle\"><h1>{post.titulos}</h1></div>\n                        <div className=\"containerImage\"><img alt=\"\" src={post.images}/></div>\n                        <div className=\"containerTexto\"><p>{post.textos}</p></div>\n                    </>\n                ))}\n            </div>\n            <h1>teste</h1>\n        </div>\n    </div>\n        \n    );\n}"]},"metadata":{},"sourceType":"module"}