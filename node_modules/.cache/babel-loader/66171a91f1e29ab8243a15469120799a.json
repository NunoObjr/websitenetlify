{"ast":null,"code":"var _jsxFileName = \"/Users/fasm/TheBruxoTales/theGeekAwaken/The-Geek-Awaken/frontend/src/pages/postCatView.js\";\nimport React from 'react';\nimport MenuBar from \"../components/menuBar\";\nimport firebase from \"../firebase\";\nimport { Link } from \"react-router-dom\";\nimport \"./styles.css\";\nexport default function PostCatView(props) {\n  const [obras, setObras] = React.useState([]);\n  const [cat, setCat] = React.useState();\n\n  async function carregarDados() {\n    let str = '';\n    let title = '';\n    console.log(props);\n    str = props.location.state.url;\n    title = props.location.state.title;\n\n    if (str !== '') {\n      setCat(title);\n      let obrasAux = [];\n      await firebase.database().ref(`posts/categorias/${str.toLowerCase()}`).limitToLast(10).once('value').then(function (snapshot) {\n        Object.keys(snapshot.val()).forEach(function (postFeed) {\n          obrasAux.push({\n            nomeDaObra: postFeed,\n            fotos: snapshot.val()[postFeed].fotos,\n            titulos: snapshot.val()[postFeed].titulos,\n            textos: snapshot.val()[postFeed].textos,\n            imagem: snapshot.val()[postFeed].imagem,\n            sinopse: snapshot.val()[postFeed].sinopse,\n            id: snapshot.val()[postFeed].id\n          });\n        });\n      });\n      setObras(obrasAux);\n    }\n  }\n\n  React.useEffect(() => {\n    carregarDados();\n  }, [props.location.state]);\n  /*function verMais() {\n      let vetorAux = [];\n      let cont = contador\n      let aux = 0\n      let i = 0\n      for(let y = 0; y<vetorCats.length; y++){\n          vetorAux.push(vetorCats[y])\n      }\n      if(vetorStorage.length - cont < 4){\n          cont--\n          aux = vetorStorage.length - cont\n          for(let t=0; t<aux;t++){\n              vetorAux.push(vetorStorage[cont])\n              cont++\n          }\n      }\n      for(cont; cont<vetorStorage.length;cont++){\n          i++\n          if(i<4){\n              vetorAux.push(vetorStorage[cont])\n          }\n      }\n      aux != 0 ?  setContador(contador+aux) : setContador(contador+4)\n      setVetorCats(vetorAux)\n  }*/\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page\",\n    style: {\n      minHeight: '700px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MenuBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"containerReviews\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, cat), obras.map((cat, key) => /*#__PURE__*/React.createElement(\"div\", {\n    key: key,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"card\",\n    style: {\n      width: '100%',\n      height: '180px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"cardImageAux\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    style: {\n      textDecoration: 'none',\n      borderRadius: '7px'\n    },\n    to: {\n      pathname: '/postView',\n      state: {\n        post: cat\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    id: \"cardImage\",\n    alt: \"imagem do card\",\n    src: cat.imagem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"cardText\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    style: {\n      textDecoration: 'none'\n    },\n    to: {\n      pathname: '/postView',\n      state: {\n        post: cat\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 34\n    }\n  }, cat.titulo)), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 33\n    }\n  }, cat.sinopse))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"line\",\n    style: {\n      width: '98%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  })))));\n}","map":{"version":3,"sources":["/Users/fasm/TheBruxoTales/theGeekAwaken/The-Geek-Awaken/frontend/src/pages/postCatView.js"],"names":["React","MenuBar","firebase","Link","PostCatView","props","obras","setObras","useState","cat","setCat","carregarDados","str","title","console","log","location","state","url","obrasAux","database","ref","toLowerCase","limitToLast","once","then","snapshot","Object","keys","val","forEach","postFeed","push","nomeDaObra","fotos","titulos","textos","imagem","sinopse","id","useEffect","minHeight","map","key","width","height","textDecoration","borderRadius","pathname","post","titulo"],"mappings":"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","sourcesContent":["import React from 'react'\nimport MenuBar from \"../components/menuBar\"\nimport firebase from \"../firebase\"\nimport { Link } from \"react-router-dom\"\nimport \"./styles.css\"\n\nexport default function PostCatView(props){\n\n    const [obras, setObras] = React.useState([])\n    const [cat, setCat] = React.useState()\n\n    async function carregarDados(){\n        let str = '';\n        let title = ''\n        console.log(props)\n        str=props.location.state.url\n        title = props.location.state.title\n        if(str !== ''){\n            setCat(title)\n            let obrasAux = [];\n            await firebase.database().ref(`posts/categorias/${str.toLowerCase()}`).limitToLast(10).once('value').\n            then(function(snapshot){\n                Object.keys(snapshot.val()).forEach(function(postFeed){\n                    obrasAux.push({nomeDaObra:postFeed,fotos:snapshot.val()[postFeed].fotos,\n                        titulos:snapshot.val()[postFeed].titulos,textos:snapshot.val()[postFeed].textos,\n                        imagem:snapshot.val()[postFeed].imagem,sinopse:snapshot.val()[postFeed].sinopse,id:snapshot.val()[postFeed].id})\n                })\n            })\n            setObras(obrasAux)\n\n        }\n    }\n\n    React.useEffect(()=>{\n        carregarDados();\n    },[props.location.state])\n\n    /*function verMais() {\n        let vetorAux = [];\n        let cont = contador\n        let aux = 0\n        let i = 0\n        for(let y = 0; y<vetorCats.length; y++){\n            vetorAux.push(vetorCats[y])\n        }\n        if(vetorStorage.length - cont < 4){\n            cont--\n            aux = vetorStorage.length - cont\n            for(let t=0; t<aux;t++){\n                vetorAux.push(vetorStorage[cont])\n                cont++\n            }\n        }\n        for(cont; cont<vetorStorage.length;cont++){\n            i++\n            if(i<4){\n                vetorAux.push(vetorStorage[cont])\n            }\n        }\n        aux != 0 ?  setContador(contador+aux) : setContador(contador+4)\n        setVetorCats(vetorAux)\n    }*/\n\n    return(\n        <div className='page' style={{minHeight:'700px'}} >\n            \n            <MenuBar/>\n            <div id='containerReviews'>\n            <h1>{cat}</h1>\n            {obras.map((cat, key) => (           \n                <div key={key}>\n                    \n                    <div id='card' style={{width:'100%',height:'180px'}} >\n                        <div id=\"cardImageAux\">\n                            <Link style={{ textDecoration: 'none', borderRadius:'7px'}} to={{pathname:'/postView', state:{post:cat}}} >\n                                    <img id=\"cardImage\" alt='imagem do card' src={cat.imagem} />             \n                            </Link>  \n                        </div>         \n                        <div id='cardText'>\n                            <Link style={{ textDecoration: 'none' }} to={{pathname:'/postView', state:{post:cat}}}>\n                                 <span>{cat.titulo}</span> \n                             </Link> \n                                <p>{cat.sinopse}</p>\n                        </div>      \n                    </div>\n                    <div id=\"line\" style={{width:'98%'}} ></div>\n                </div>\n            ))}\n            \n        </div>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}